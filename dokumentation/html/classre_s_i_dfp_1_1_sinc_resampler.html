<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIC SID Project: SincResampler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIC SID Project
   &#160;<span id="projectnumber">prototype</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classre_s_i_dfp_1_1_sinc_resampler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SincResampler Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_sinc_resampler_8h_source.html">SincResampler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SincResampler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classre_s_i_dfp_1_1_sinc_resampler.png" usemap="#SincResampler_map" alt=""/>
  <map id="SincResampler_map" name="SincResampler_map">
<area href="classre_s_i_dfp_1_1_resampler.html" alt="Resampler" shape="rect" coords="0,0,96,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a254bf5bd878f5a1192df2593d7fb0df8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html#a254bf5bd878f5a1192df2593d7fb0df8">SincResampler</a> (double clockFrequency, double samplingFrequency, double highestAccurateFrequency)</td></tr>
<tr class="separator:a254bf5bd878f5a1192df2593d7fb0df8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43315d95b22e607f809f17664ee5a592"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html#a43315d95b22e607f809f17664ee5a592">input</a> (int input) <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:a43315d95b22e607f809f17664ee5a592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8b4c536ca5dca09c9789f1fc49ceca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html#a0d8b4c536ca5dca09c9789f1fc49ceca">output</a> () const <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:a0d8b4c536ca5dca09c9789f1fc49ceca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfcdbbd0fe4efbff10b180be50ca6bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html#aebfcdbbd0fe4efbff10b180be50ca6bc">reset</a> () <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:aebfcdbbd0fe4efbff10b180be50ca6bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classre_s_i_dfp_1_1_resampler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classre_s_i_dfp_1_1_resampler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classre_s_i_dfp_1_1_resampler.html">Resampler</a></td></tr>
<tr class="memitem:a29816080a466fa6e5c87c013a962c890 inherit pub_methods_classre_s_i_dfp_1_1_resampler"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_resampler.html#a29816080a466fa6e5c87c013a962c890">~Resampler</a> ()</td></tr>
<tr class="separator:a29816080a466fa6e5c87c013a962c890 inherit pub_methods_classre_s_i_dfp_1_1_resampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30918099b4580ac6774df6020c4a4e0a inherit pub_methods_classre_s_i_dfp_1_1_resampler"><td class="memItemLeft" align="right" valign="top"><a class="el" href="readme__resid_8txt.html#a1cbedcc33990b77eae61c0e6ee8eaa7d">short</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_resampler.html#a30918099b4580ac6774df6020c4a4e0a">getOutput</a> () const</td></tr>
<tr class="separator:a30918099b4580ac6774df6020c4a4e0a inherit pub_methods_classre_s_i_dfp_1_1_resampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classre_s_i_dfp_1_1_resampler"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classre_s_i_dfp_1_1_resampler')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classre_s_i_dfp_1_1_resampler.html">Resampler</a></td></tr>
<tr class="memitem:a07ecf54700e2d10c415332f6862986b6 inherit pro_methods_classre_s_i_dfp_1_1_resampler"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_resampler.html#a07ecf54700e2d10c415332f6862986b6">Resampler</a> ()</td></tr>
<tr class="separator:a07ecf54700e2d10c415332f6862986b6 inherit pro_methods_classre_s_i_dfp_1_1_resampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the theoretically correct (and computationally intensive) audio sample generation. The samples are generated by resampling to the specified sampling frequency. The work rate is inversely proportional to the percentage of the bandwidth allocated to the filter transition band.</p>
<p>This implementation is based on the paper "A Flexible Sampling-Rate Conversion Method", by J. O. Smith and P. Gosset, or rather on the expanded tutorial on the <a href="http://www-ccrma.stanford.edu/~jos/resample/">Digital Audio Resampling Home Page</a>.</p>
<p>By building shifted FIR tables with samples according to the sampling frequency, this implementation dramatically reduces the computational effort in the filter convolutions, without any loss of accuracy. The filter convolutions are also vectorizable on current hardware. </p>

<p class="definition">Definition at line <a class="el" href="_sinc_resampler_8h_source.html#l00053">53</a> of file <a class="el" href="_sinc_resampler_8h_source.html">SincResampler.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a254bf5bd878f5a1192df2593d7fb0df8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a254bf5bd878f5a1192df2593d7fb0df8">&#9670;&nbsp;</a></span>SincResampler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html">SincResampler</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>clockFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>samplingFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>highestAccurateFrequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use a clock freqency of 985248Hz for PAL C64, 1022730Hz for NTSC C64. The default end of passband frequency is pass_freq = 0.9*sample_freq/2 for sample frequencies up to ~ 44.1kHz, and 20kHz for higher sample frequencies.</p>
<p>For resampling, the ratio between the clock frequency and the sample frequency is limited as follows: 125*clock_freq/sample_freq &lt; 16384 E.g. provided a clock frequency of ~ 1MHz, the sample frequency can not be set lower than ~ 8kHz. A lower sample frequency would make the resampling code overfill its 16k sample ring buffer.</p>
<p>The end of passband frequency is also limited: pass_freq &lt;= 0.9*sample_freq/2</p>
<p>E.g. for a 44.1kHz sampling rate the end of passband frequency is limited to slightly below 20kHz. This constraint ensures that the FIR table is not overfilled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clockFrequency</td><td>System clock frequency at Hz </td></tr>
    <tr><td class="paramname">samplingFrequency</td><td>Desired output sampling rate </td></tr>
    <tr><td class="paramname">highestAccurateFrequency</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_sinc_resampler_8cpp_source.html#l00147">147</a> of file <a class="el" href="_sinc_resampler_8cpp_source.html">SincResampler.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a43315d95b22e607f809f17664ee5a592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43315d95b22e607f809f17664ee5a592">&#9670;&nbsp;</a></span>input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> input </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Input a sample into resampler. Output "true" when resampler is ready with new sample.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>input sample </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when a sample is ready </dd></dl>

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_resampler.html#a049d3f9f51c2dea899e092c012c789e2">Resampler</a>.</p>

<p class="definition">Definition at line <a class="el" href="_sinc_resampler_8cpp_source.html#l00243">243</a> of file <a class="el" href="_sinc_resampler_8cpp_source.html">SincResampler.cpp</a>.</p>

</div>
</div>
<a id="a0d8b4c536ca5dca09c9789f1fc49ceca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8b4c536ca5dca09c9789f1fc49ceca">&#9670;&nbsp;</a></span>output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_resampler.html#a1d6f16d9465443328a02753cb8c7784f">Resampler</a>.</p>

<p class="definition">Definition at line <a class="el" href="_sinc_resampler_8h_source.html#l00107">107</a> of file <a class="el" href="_sinc_resampler_8h_source.html">SincResampler.h</a>.</p>

</div>
</div>
<a id="aebfcdbbd0fe4efbff10b180be50ca6bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfcdbbd0fe4efbff10b180be50ca6bc">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_resampler.html#a20dcbdfbd0ec77afc802522bb7e379c1">Resampler</a>.</p>

<p class="definition">Definition at line <a class="el" href="_sinc_resampler_8cpp_source.html#l00269">269</a> of file <a class="el" href="_sinc_resampler_8cpp_source.html">SincResampler.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/resample/<a class="el" href="_sinc_resampler_8h_source.html">SincResampler.h</a></li>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/resample/<a class="el" href="_sinc_resampler_8cpp_source.html">SincResampler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacere_s_i_dfp.html">reSIDfp</a></li><li class="navelem"><a class="el" href="classre_s_i_dfp_1_1_sinc_resampler.html">SincResampler</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
