<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIC SID Project: musictools/GoatTracker_2.75/goattrk2/src/gplay.c Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIC SID Project
   &#160;<span id="projectnumber">prototype</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gplay_8c_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">gplay.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="gplay_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// GOATTRACKER v2 playroutine</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="gplay_8c.html#adef92e4115719db6394886e2c4388301">    5</a></span>&#160;<span class="preprocessor">#define GPLAY_C</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="goattrk2_8h.html">goattrk2.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="gplay_8h.html#ac809178e794cdc0b5d7e038bfe70f4d6">    9</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[] = {</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  0x17,0x27,0x39,0x4b,0x5f,0x74,0x8a,0xa1,0xba,0xd4,0xf0,0x0e,</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  0x2d,0x4e,0x71,0x96,0xbe,0xe8,0x14,0x43,0x74,0xa9,0xe1,0x1c,</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  0x5a,0x9c,0xe2,0x2d,0x7c,0xcf,0x28,0x85,0xe8,0x52,0xc1,0x37,</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  0xb4,0x39,0xc5,0x5a,0xf7,0x9e,0x4f,0x0a,0xd1,0xa3,0x82,0x6e,</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  0x68,0x71,0x8a,0xb3,0xee,0x3c,0x9e,0x15,0xa2,0x46,0x04,0xdc,</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  0xd0,0xe2,0x14,0x67,0xdd,0x79,0x3c,0x29,0x44,0x8d,0x08,0xb8,</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  0xa1,0xc5,0x28,0xcd,0xba,0xf1,0x78,0x53,0x87,0x1a,0x10,0x71,</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;  0x42,0x89,0x4f,0x9b,0x74,0xe2,0xf0,0xa6,0x0e,0x33,0x20,0xff,</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="gplay_8h.html#a7031f736258667561dba6f62a8853e01">   23</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[] = {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x02,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;  0x02,0x02,0x02,0x02,0x02,0x02,0x03,0x03,0x03,0x03,0x03,0x04,</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  0x04,0x04,0x04,0x05,0x05,0x05,0x06,0x06,0x06,0x07,0x07,0x08,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;  0x08,0x09,0x09,0x0a,0x0a,0x0b,0x0c,0x0d,0x0d,0x0e,0x0f,0x10,</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;  0x11,0x12,0x13,0x14,0x15,0x17,0x18,0x1a,0x1b,0x1d,0x1f,0x20,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  0x22,0x24,0x27,0x29,0x2b,0x2e,0x31,0x34,0x37,0x3a,0x3e,0x41,</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  0x45,0x49,0x4e,0x52,0x57,0x5c,0x62,0x68,0x6e,0x75,0x7c,0x83,</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  0x8b,0x93,0x9c,0xa5,0xaf,0xb9,0xc4,0xd0,0xdd,0xea,0xf8,0xff,</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="gplay_8h.html#a7e94610bbc8c3b11ee745c8a8e2bd612">   37</a></span>&#160;<a class="code" href="struct_c_h_n.html">CHN</a> <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[<a class="code" href="gcommon_8h.html#ad2bbba0de5a7363669385359c269f103">MAX_CHN</a>];</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">   38</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a> = 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="gplay_8c.html#a91edfa3df855ead6740b056c692f1df6">   39</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a91edfa3df855ead6740b056c692f1df6">filtertype</a> = 0;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">   40</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> = 0;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">   41</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a> = 0;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">   42</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = 0;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">   43</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[2];</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="gplay_8h.html#ac471d45bc2cdee9444debb7e46c86769">   44</a></span>&#160;<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="gplay_8c.html#ac471d45bc2cdee9444debb7e46c86769">masterfader</a> = 0x0f;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">   45</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a> = 0;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">   46</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = 0;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="gplay_8h.html#a16d5feca6d52834a112f34ec4b80971c">   47</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a> = 0;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">   48</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> = 0;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a>(<span class="keywordtype">int</span> <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>, <a class="code" href="struct_c_h_n.html">CHN</a> *cptr);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="gplay_8h.html#a88526746443d49ab7f4226aa2af4f2d5">   52</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a88526746443d49ab7f4226aa2af4f2d5">initchannels</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="struct_c_h_n.html">CHN</a> *cptr = &amp;<a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[0];</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="string_8h.html#a61225aab8c8ea6fd46ee4def7d35a0b8">memset</a>(<a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>, 0, <span class="keyword">sizeof</span> <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">for</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> = 0; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> &lt; <a class="code" href="gcommon_8h.html#ad2bbba0de5a7363669385359c269f103">MAX_CHN</a>; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>++)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>].<a class="code" href="struct_c_h_n.html#aff7f479520df3e55dd1271ff25376a6a">trans</a> = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>].<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a> = 1;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6-1;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    cptr++;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[0] = 9*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[1] = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[0] = 9-1;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[1] = 6-1;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="gplay_8h.html#a3b6b83d6403b8706b782ff993ecb18d3">   82</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#ad44828c170748e0a0ba929db5232db2c">initsong</a>(<span class="keywordtype">int</span> num, <span class="keywordtype">int</span> <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a65fc36bc1df26831131901bbe2fdcda6">mode</a>)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;{</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="gsound_8c.html#aa90594d5a01463697afd750b99261b99">sound_suspend</a>();</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a> = num;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a65fc36bc1df26831131901bbe2fdcda6">mode</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> = 0;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <a class="code" href="gsound_8c.html#a39dbdeb35d40d8da0cf727c035d92247">sound_flush</a>();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="gplay_8h.html#a9889823b13d5b61cdf87e0bc5343e7ed">   92</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a27f31c48366fc4f2dc3ca54903832389">initsongpos</a>(<span class="keywordtype">int</span> num, <span class="keywordtype">int</span> <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a65fc36bc1df26831131901bbe2fdcda6">mode</a>, <span class="keywordtype">int</span> pattpos)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="gsound_8c.html#aa90594d5a01463697afd750b99261b99">sound_suspend</a>();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a> = num;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a65fc36bc1df26831131901bbe2fdcda6">mode</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> = pattpos;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="gsound_8c.html#a39dbdeb35d40d8da0cf727c035d92247">sound_flush</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="gplay_8h.html#a8a59a144681d102fae9637b8a70756aa">  102</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="gsound_8c.html#aa90594d5a01463697afd750b99261b99">sound_suspend</a>();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="gplay_8h.html#adfa6a9e47040d791d57dc7fd49357f3c">PLAY_STOP</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="gsound_8c.html#a39dbdeb35d40d8da0cf727c035d92247">sound_flush</a>();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="gplay_8h.html#a3897f115a1451faf6d8b32e612dfa5ed">  112</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a3897f115a1451faf6d8b32e612dfa5ed">rewindsong</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;{</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a> == <a class="code" href="gplay_8h.html#a4a8c2495a0dff6fb63386ebb52fae0fe">PLAY_BEGINNING</a>) <a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a> = <a class="code" href="gplay_8h.html#a99429b3187831bc3fc150c309d617a29">PLAY_POS</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="gplay_8c.html#ad44828c170748e0a0ba929db5232db2c">initsong</a>(<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>, <a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="gplay_8h.html#a11c1836304331244d5809870f518fb15">  118</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a11c1836304331244d5809870f518fb15">playtestnote</a>(<span class="keywordtype">int</span> note, <span class="keywordtype">int</span> ins, <span class="keywordtype">int</span> chnnum)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (note == <a class="code" href="gcommon_8h.html#aaa1f03ade6df21e4d81ca12e8b050e13">KEYON</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordflow">if</span> ((note == <a class="code" href="gcommon_8h.html#af61315e1c4a04436923a5c52196cdd3c">REST</a>) || (note == <a class="code" href="gcommon_8h.html#a9bbb4f95e62b74e221642e07a4d71f45">KEYOFF</a>))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="gplay_8c.html#a13143dad80789e361b49e4b0dc17f0a1">releasenote</a>(chnnum);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordflow">if</span> (!(<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[ins].gatetimer &amp; 0x40))</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xfe; <span class="comment">// Keyoff</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (!(<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[ins].gatetimer &amp; 0x80))</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x5+chnnum*7] = <a class="code" href="goattrk2_8c.html#a8c33e8bb4b84cf264ac93d607e830bf7">adparam</a>&gt;&gt;8; <span class="comment">// Hardrestart</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x6+chnnum*7] = <a class="code" href="goattrk2_8c.html#a8c33e8bb4b84cf264ac93d607e830bf7">adparam</a>&amp;0xff;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a> = ins;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a> = note;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> = (<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[ins].<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x3f)+1;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> = <a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[ins].<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x3f;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno"><a class="line" href="gplay_8h.html#a13143dad80789e361b49e4b0dc17f0a1">  146</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a13143dad80789e361b49e4b0dc17f0a1">releasenote</a>(<span class="keywordtype">int</span> chnnum)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;{</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xfe;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="gplay_8h.html#a83a1a6c098f32a586373e690b5cff68c">  151</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a83a1a6c098f32a586373e690b5cff68c">mutechannel</a>(<span class="keywordtype">int</span> chnnum)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[chnnum].<a class="code" href="struct_c_h_n.html#afb42788002b700ab547ed68f2bc31dc9">mute</a> ^= 1;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="gplay_8h.html#a8ad6ac7ddf6e555e3af0547ef257443d">  156</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="gplay_8c.html#a8ad6ac7ddf6e555e3af0547ef257443d">isplaying</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="gplay_8c.html#a06f5bf886188277a3172789da76fd1e6">  161</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a06f5bf886188277a3172789da76fd1e6">playroutine</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="struct_i_n_s_t_r.html">INSTR</a> *iptr;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="struct_c_h_n.html">CHN</a> *cptr = &amp;<a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[0];</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == <a class="code" href="gplay_8h.html#adfa6a9e47040d791d57dc7fd49357f3c">PLAY_STOP</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="goattrk2_8c.html#aa00849a0ec632acdde67981aa7b067d7">followplay</a> = 0;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> &gt; 0) &amp;&amp; (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> &lt; <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a> = <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a> = 0;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="gdisplay_8c.html#ac8c2384055149b769b0e33314d3db252">resettime</a>();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == 0x02) || (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == 0x03))</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[0] &gt;= <a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][0]) || (<a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[1] &gt;= <a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][1]) || (<a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[2] &gt;= <a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][2]))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;         <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = 0x01;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> = 0; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> &lt; <a class="code" href="gcommon_8h.html#ad2bbba0de5a7363669385359c269f103">MAX_CHN</a>; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>++)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> = 0;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a> = 0;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a> = 0;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a> = 0;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a> = 0;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a789f705f03c183df3fef1e44c4598db8">advance</a> = 1;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = 0;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>] = 0;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a> = 0;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a3fcd36b5f45dd7d834451cb9e1b81169">repeat</a> = 0;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> = 6-1;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> = <a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[1].<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x3f;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = 0x7fffffff;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> &lt; 2) cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;      <span class="keywordflow">switch</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a>)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gplay_8h.html#a4a8c2495a0dff6fb63386ebb52fae0fe">PLAY_BEGINNING</a>:</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[0] = 9*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[1] = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[0] = 9-1;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[1] = 6-1;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6-1;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[<a class="code" href="gcommon_8h.html#a781fcc5c3342edecba86b7e2a0195c4c">MAX_INSTR</a>-1].ad &gt;= 2) &amp;&amp; (!(<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[<a class="code" href="gcommon_8h.html#a781fcc5c3342edecba86b7e2a0195c4c">MAX_INSTR</a>-1].ptr[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>])))</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = <a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[<a class="code" href="gcommon_8h.html#a781fcc5c3342edecba86b7e2a0195c4c">MAX_INSTR</a>-1].<a class="code" href="struct_i_n_s_t_r.html#aec825a04fb76012cb1bc16f0047e8213">ad</a> - 1;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#aff7f479520df3e55dd1271ff25376a6a">trans</a> = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a> = 1;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <a class="code" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a>(<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>, cptr);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gplay_8h.html#aff79db6b3b10c663098f04895ea241f2">PLAY_PATTERN</a>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a789f705f03c183df3fef1e44c4598db8">advance</a> = 0;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> * 4;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a> = <a class="code" href="gpattern_8c.html#a7835b517d1918246094a5b20b13227b2">epnum</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> &gt;= (<a class="code" href="gsong_8c.html#a6d856cee64b0582c5801022ed842cb7b">pattlen</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>] * 4))</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gplay_8h.html#a99429b3187831bc3fc150c309d617a29">PLAY_POS</a>:</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> = <a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>];</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a>(<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>, cptr);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      cptr++;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#adfa6a9e47040d791d57dc7fd49357f3c">PLAY_STOP</a>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = 0;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][0]) || (!<a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][1]) || (!<a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][2]))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> = <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>; <span class="comment">// Zero length song</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> = 0;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  {</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">// Filter jump</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] == 0xff)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>) <span class="keywordflow">goto</span> FILTERSTOP;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a>)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="comment">// Filter set</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] &gt;= 0x80)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <a class="code" href="gplay_8c.html#a91edfa3df855ead6740b056c692f1df6">filtertype</a> = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] &amp; 0x70;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>++;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="comment">// Can be combined with cutoff set</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] == 0x00)</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;          {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>++;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          <span class="comment">// New modulation step</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1])</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a> = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="comment">// Cutoff set</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>++;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        }</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      }</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="comment">// Filter modulation</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a>)</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> += <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1];</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a>--;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a>) <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>++;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    FILTERSTOP:</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x15] = 0x00;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x16] = <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x17] = <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x18] = <a class="code" href="gplay_8c.html#a91edfa3df855ead6740b056c692f1df6">filtertype</a> | <a class="code" href="gplay_8c.html#ac471d45bc2cdee9444debb7e46c86769">masterfader</a>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> = 0; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a> &lt; <a class="code" href="gcommon_8h.html#ad2bbba0de5a7363669385359c269f103">MAX_CHN</a>; <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>++)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      iptr = &amp;<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a>];</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160; </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      <span class="comment">// Reset tempo in jammode</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> &lt; 2))</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>)</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6*<a class="code" href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a>-1;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 6-1;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// Decrease tick</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a>--;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a>) <span class="keywordflow">goto</span> TICK0;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// Tick N</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// Reload counter</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> &gt;= 0x80)</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> &gt;= 2)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;          <span class="comment">// Set funktempo, switch between 2 values</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> = <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a>];</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> ^= 1;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        }</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="comment">// Check for illegally high gatetimer and stop the song in this case</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>-&gt;<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &gt; cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a>)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="keywordflow">goto</span> WAVEEXEC;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="comment">// Tick 0</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      TICK0:</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      <span class="comment">// Advance in sequencer</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a>(<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>, cptr);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160; </div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <span class="comment">// Get gatetimer compare-value</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x3f;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160; </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="comment">// New note init</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a>)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a>-<a class="code" href="gcommon_8h.html#a1f6f8ec5a473b1a49998a8b0ab98996b">FIRSTNOTE</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a> = 0;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a9c3cdce46fdd1eb48eb492eabb092231">vibdelay</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#a9c3cdce46fdd1eb48eb492eabb092231">vibdelay</a>;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>];</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a> != <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>)</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        {</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;          <span class="keywordflow">if</span> (iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#acfcf7d17d7e95876b78db18e00a9e300">firstwave</a>)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;          {</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordflow">if</span> (iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#acfcf7d17d7e95876b78db18e00a9e300">firstwave</a> &gt;= 0xfe) cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#acfcf7d17d7e95876b78db18e00a9e300">firstwave</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#acfcf7d17d7e95876b78db18e00a9e300">firstwave</a>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xff;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>] = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;          <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>])</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;          {</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;              <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;          }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;          <span class="keywordflow">if</span> (iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>])</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>] = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>];</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a> = 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>])</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            {</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;              <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            }</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;          }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          <span class="keywordflow">if</span> (iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>])</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>];</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a> = 0;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;              <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] == 0xff)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x5+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#aec825a04fb76012cb1bc16f0047e8213">ad</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;          <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x6+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#a624b0487cb16c36ed0a03712ebbf3600">sr</a>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160; </div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="comment">// Tick 0 effects</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">switch</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#ad49b070003a1910ad3011c752ed01467">CMD_DONOTHING</a>:</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a> = 0;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a> = iptr-&gt;<a class="code" href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">ptr</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>];</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160; </div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a42541bcc70c1a7357f50f689a7f6511a">CMD_PORTAUP</a>:</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a416e7a391678d5d76f19d52c48e04c11">CMD_PORTADOWN</a>:</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>:</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#adafddd66429ee14bb05ad9ab679fe471">CMD_VIBRATO</a>:</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a21bd0656e605d1e03ece1a6cfe7787da">CMD_SETAD</a>:</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x5+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160; </div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a4be20081510e32df709d61a7b1a36815">CMD_SETSR</a>:</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x6+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a0c4beb8e210e595f5dc686ca2de3b1a0">CMD_SETWAVE</a>:</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160; </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a3f463ddc7b9fd5fa9d5696d3c834964a">CMD_SETWAVEPTR</a>:</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a623a6d6f2ab337a67848e6d12fdb1c4c">wavetime</a> = 0;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>])</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;          <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#af5ed35bdb5a2e963525594908f997a1b">CMD_SETPULSEPTR</a>:</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a> = 0;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>])</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        }</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a5dc7e869c97d9348685ce5cecd11b04b">CMD_SETFILTERPTR</a>:</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a> = 0;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        {</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;          <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] == 0xff)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        }</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#abfe901807d585255884c1362a93b00ea">CMD_SETFILTERCTRL</a>:</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a>) <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = 0;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a4ecf84694a200a5bdf5ceabd86e35dba">CMD_SETFILTERCUTOFF</a>:</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a7502f91447f261baed62be6727621b79">CMD_SETMASTERVOL</a>:</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a> &lt; 0x10)</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          <a class="code" href="gplay_8c.html#ac471d45bc2cdee9444debb7e46c86769">masterfader</a> = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a84299d0617605e29e9f5cb5a8157ed61">CMD_FUNKTEMPO</a>:</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[0] = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>-1]-1;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          <a class="code" href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a>[1] = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a>-1]-1;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[0].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 0;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[1].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 0;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[2].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = 0;</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160; </div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a215c878c71da961015066c6b543f6af4">CMD_SETTEMPO</a>:</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> newtempo = cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a> &amp; 0x7f;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160; </div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <span class="keywordflow">if</span> (newtempo &gt;= 3) newtempo--;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a> &gt;= 0x80)</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = newtempo;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;          {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[0].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = newtempo;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[1].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = newtempo;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a>[2].<a class="code" href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">tempo</a> = newtempo;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a>)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a> = 0;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a> != <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>) <span class="keywordflow">goto</span> NEXTCHN;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;      }</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; </div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      WAVEEXEC:</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>])</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1];</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> note = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1];</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &gt; <a class="code" href="gcommon_8h.html#a8dce333e433c62ae64a87e2adb0a6567">WAVELASTDELAY</a>)</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          <span class="comment">// Normal waveform values</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &lt; <a class="code" href="gcommon_8h.html#a2c3a191cb4ad0e39116a4352ecea4b5e">WAVESILENT</a>) cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = <a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          <span class="comment">// Values without waveform selected</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &gt;= <a class="code" href="gcommon_8h.html#a2c3a191cb4ad0e39116a4352ecea4b5e">WAVESILENT</a>) &amp;&amp; (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &lt;= <a class="code" href="gcommon_8h.html#a0fa169c85ba39d46bb831cabc3df31de">WAVELASTSILENT</a>)) cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = <a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &amp; 0xf;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <span class="comment">// Command execution from wavetable</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <span class="keywordflow">if</span> ((<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &gt;= <a class="code" href="gcommon_8h.html#a8690eb0d0b3dfd7a4bae0768d8a9c543">WAVECMD</a>) &amp;&amp; (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &lt;= <a class="code" href="gcommon_8h.html#a1d7a06a37e06c80a1c216912e70fe837">WAVELASTCMD</a>))</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> param = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1];</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <span class="keywordflow">switch</span> (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &amp; 0xf)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#ad49b070003a1910ad3011c752ed01467">CMD_DONOTHING</a>:</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a3f463ddc7b9fd5fa9d5696d3c834964a">CMD_SETWAVEPTR</a>:</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a84299d0617605e29e9f5cb5a8157ed61">CMD_FUNKTEMPO</a>:</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;              <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a42541bcc70c1a7357f50f689a7f6511a">CMD_PORTAUP</a>:</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;              {</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">if</span> (param)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                {</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;              }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160; </div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a416e7a391678d5d76f19d52c48e04c11">CMD_PORTADOWN</a>:</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;              {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">if</span> (param)</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                }</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;              }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>:</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;              {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> targetfreq = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                <span class="keywordflow">if</span> (!param)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                  {</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                    <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                    <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                  }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                  <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &lt; targetfreq)</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                  {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &gt; targetfreq)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                    {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                      cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                      cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                  }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                  <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &gt; targetfreq)</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                  {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &lt; targetfreq)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                      cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                      cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    }</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                  }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;              }</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160; </div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#adafddd66429ee14bb05ad9ab679fe471">CMD_VIBRATO</a>:</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;              {</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmpvalue = 0;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                <span class="keywordflow">if</span> (param)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                  cmpvalue = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                }</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">if</span> (cmpvalue &gt;= 0x80)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                {</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                  cmpvalue &amp;= 0x7f;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                  <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][param-1];</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">if</span> ((cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &lt; 0x80) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &gt; cmpvalue))</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> ^= 0xff;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> += 0x02;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &amp; 0x01)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;              }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160; </div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a21bd0656e605d1e03ece1a6cfe7787da">CMD_SETAD</a>:</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;              <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x5+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = param;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a4be20081510e32df709d61a7b1a36815">CMD_SETSR</a>:</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;              <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x6+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = param;;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160; </div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a0c4beb8e210e595f5dc686ca2de3b1a0">CMD_SETWAVE</a>:</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = param;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160; </div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#af5ed35bdb5a2e963525594908f997a1b">CMD_SETPULSEPTR</a>:</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>] = param;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a> = 0;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;              <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>])</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;              {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                  <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;              }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160; </div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a5dc7e869c97d9348685ce5cecd11b04b">CMD_SETFILTERPTR</a>:</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;              <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = param;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;              <a class="code" href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a> = 0;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>)</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;              {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="comment">// Stop the song in case of jumping into a jump</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a>][<a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a>-1] == 0xff)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;              }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#abfe901807d585255884c1362a93b00ea">CMD_SETFILTERCTRL</a>:</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;              <a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a> = param;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;              <span class="keywordflow">if</span> (!<a class="code" href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a>) <a class="code" href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a> = 0;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160; </div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a4ecf84694a200a5bdf5ceabd86e35dba">CMD_SETFILTERCUTOFF</a>:</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;              <a class="code" href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a> = param;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160; </div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;              <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a7502f91447f261baed62be6727621b79">CMD_SETMASTERVOL</a>:</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;              <span class="keywordflow">if</span> (param &lt; 0x10)</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <a class="code" href="gplay_8c.html#ac471d45bc2cdee9444debb7e46c86769">masterfader</a> = param;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;          }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        }</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        {</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;          <span class="comment">// Wavetable delay</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;          <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a623a6d6f2ab337a67848e6d12fdb1c4c">wavetime</a> != <a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a>)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;          {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a623a6d6f2ab337a67848e6d12fdb1c4c">wavetime</a>++;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">goto</span> TICKNEFFECTS;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          }</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        }</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160; </div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a623a6d6f2ab337a67848e6d12fdb1c4c">wavetime</a> = 0;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]++;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="comment">// Wavetable jump</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        {</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>] = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a>]-1];</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &gt;= <a class="code" href="gcommon_8h.html#a8690eb0d0b3dfd7a4bae0768d8a9c543">WAVECMD</a>) &amp;&amp; (<a class="code" href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a> &lt;= <a class="code" href="gcommon_8h.html#a1d7a06a37e06c80a1c216912e70fe837">WAVELASTCMD</a>))</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <span class="keywordflow">goto</span> PULSEEXEC;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160; </div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (note != 0x80)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;          <span class="keywordflow">if</span> (note &lt; 0x80)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            note += cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;          note &amp;= 0x7f;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[note] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[note]&lt;&lt;8);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> = note;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <span class="keywordflow">goto</span> PULSEEXEC;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      }</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160; </div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <span class="comment">// Tick N command</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      TICKNEFFECTS:</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;      <span class="keywordflow">if</span> ((!<a class="code" href="goattrk2_8c.html#a2e57bf713b9f4570507c71550a1e5944">optimizerealtime</a>) || (cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a>))</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="keywordflow">switch</span>(cptr-&gt;<a class="code" href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">command</a>)</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        {</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a42541bcc70c1a7357f50f689a7f6511a">CMD_PORTAUP</a>:</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;          {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            }</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;          }</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160; </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#a416e7a391678d5d76f19d52c48e04c11">CMD_PORTADOWN</a>:</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          {</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>)</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            }</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            {</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160; </div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#ad49b070003a1910ad3011c752ed01467">CMD_DONOTHING</a>:</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;          <span class="keywordflow">if</span> ((!cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>) || (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a9c3cdce46fdd1eb48eb492eabb092231">vibdelay</a>))</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;          <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a9c3cdce46fdd1eb48eb492eabb092231">vibdelay</a> &gt; 1)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;          {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a9c3cdce46fdd1eb48eb492eabb092231">vibdelay</a>--;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#adafddd66429ee14bb05ad9ab679fe471">CMD_VIBRATO</a>:</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;          {</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cmpvalue = 0;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160; </div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>)</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;              cmpvalue = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;            <span class="keywordflow">if</span> (cmpvalue &gt;= 0x80)</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;              cmpvalue &amp;= 0x7f;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160; </div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">if</span> ((cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &lt; 0x80) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &gt; cmpvalue))</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> ^= 0xff;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> += 0x02;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;            <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> &amp; 0x01)</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;          }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          <span class="keywordflow">case</span> <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>:</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;          {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> targetfreq = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">note</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = 0;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160; </div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;            <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>)</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;            {</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            }</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1] &lt;&lt; 8) | <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;              <a class="code" href="cubase64__1analyze_pitch_8m.html#ac527619296bb4e5cdfd5b0379aba2bd6">if</a> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;= 0x8000)</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;              {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a> + 1] &lt;&lt; 8);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> -= <a class="code" href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] | (<a class="code" href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">lastnote</a>] &lt;&lt; 8);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &gt;&gt;= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">cmddata</a>-1];</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;              }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;              <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &lt; targetfreq)</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;              {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &gt; targetfreq)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;              }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;              <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &gt; targetfreq)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;              {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> -= <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &lt; targetfreq)</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> = targetfreq;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                  cptr-&gt;<a class="code" href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">vibtime</a> = 0;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;              }</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            }</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;          }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;          <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;      }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160; </div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      PULSEEXEC:</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a26789d8c26786488fdd77a0e66faf045">optimizepulse</a>)</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;      {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> == cptr-&gt;<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a>)) <span class="keywordflow">goto</span> GETNEWNOTES;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;      }</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; </div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>])</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      {</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="comment">// Skip pulse when sequencer has been executed</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="goattrk2_8c.html#a26789d8c26786488fdd77a0e66faf045">optimizepulse</a>)</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        {</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;          <span class="keywordflow">if</span> ((!cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a>) &amp;&amp; (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>)) <span class="keywordflow">goto</span> NEXTCHN;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        }</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160; </div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="comment">// Pulsetable jump</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] == 0xff)</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        {</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>] = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1];</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;          <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]) <span class="keywordflow">goto</span> PULSEEXEC;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        }</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a>)</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;        {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;          <span class="comment">// Set pulse</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] &gt;= 0x80)</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;          {</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> = (<a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1] &amp; 0xf) &lt;&lt; 8;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> |= <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1];</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]++;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;          {</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a> = <a class="code" href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1];</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;          }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        }</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="comment">// Pulse modulation</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a>)</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> = <a class="code" href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]-1];</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a> &lt; 0x80)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;          {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> &amp;= 0xfff;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;          }</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;          <span class="keywordflow">else</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          {</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> += <a class="code" href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a>;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> -= 0x100;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;            cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> &amp;= 0xfff;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;          }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a>--;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;          <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">pulsetime</a>) cptr-&gt;<a class="code" href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">ptr</a>[<a class="code" href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a>]++;</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        }</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> == <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>) || (cptr-&gt;<a class="code" href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">tick</a> != cptr-&gt;<a class="code" href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a>)) <span class="keywordflow">goto</span> NEXTCHN;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; </div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="comment">// New notes processing</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      GETNEWNOTES:</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      {</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> newnote;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160; </div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        newnote = <a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>];</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>+1])</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a> = <a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>+1];</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a> = <a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>+2];</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">newcmddata</a> = <a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>+3];</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> += 4;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a>] == <a class="code" href="gcommon_8h.html#a9a3172635262c49ae5536c9c1742047c">ENDPATT</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = 0x7fffffff;</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160; </div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">if</span> (newnote == <a class="code" href="gcommon_8h.html#a9bbb4f95e62b74e221642e07a4d71f45">KEYOFF</a>)</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xfe;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> (newnote == <a class="code" href="gcommon_8h.html#aaa1f03ade6df21e4d81ca12e8b050e13">KEYON</a>)</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xff;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <span class="keywordflow">if</span> (newnote &lt;= <a class="code" href="gcommon_8h.html#af82bddaeb818cb31a09a0113e9d916ad">LASTNOTE</a>)</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        {</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;          cptr-&gt;<a class="code" href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">newnote</a> = newnote+cptr-&gt;<a class="code" href="struct_c_h_n.html#aff7f479520df3e55dd1271ff25376a6a">trans</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;          <span class="keywordflow">if</span> ((cptr-&gt;<a class="code" href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">newcommand</a>) != <a class="code" href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a>)</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;          {</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;            <span class="keywordflow">if</span> (!(<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a>].<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x40))</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;            {</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;              cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a> = 0xfe;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;              <span class="keywordflow">if</span> (!(<a class="code" href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">instr</a>].<a class="code" href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">gatetimer</a> &amp; 0x80))</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;              {</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x5+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = <a class="code" href="goattrk2_8c.html#a8c33e8bb4b84cf264ac93d607e830bf7">adparam</a>&gt;&gt;8;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x6+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = <a class="code" href="goattrk2_8c.html#a8c33e8bb4b84cf264ac93d607e830bf7">adparam</a>&amp;0xff;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;              }</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;            }</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;          }</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;      }</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;      NEXTCHN:</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#afb42788002b700ab547ed68f2bc31dc9">mute</a>)</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x4+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> = 0x08;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;      {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x0+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &amp; 0xff;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x1+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">freq</a> &gt;&gt; 8;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x2+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> &amp; 0xfe;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x3+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">pulse</a> &gt;&gt; 8;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a>[0x4+7*<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] = cptr-&gt;<a class="code" href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">wave</a> &amp; cptr-&gt;<a class="code" href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">gate</a>;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      cptr++;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>) <a class="code" href="gdisplay_8c.html#ad2acdaf68304d6a7f28718ff23728385">incrementtime</a>();</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;}</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160; </div>
<div class="line"><a name="l00953"></a><span class="lineno"><a class="line" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">  953</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a>(<span class="keywordtype">int</span> <a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>, <a class="code" href="struct_c_h_n.html">CHN</a> *cptr)</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;{</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a> != <a class="code" href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a>) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> == 0x7fffffff))</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = <a class="code" href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a> * 4;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keywordflow">if</span> (!cptr-&gt;<a class="code" href="struct_c_h_n.html#a789f705f03c183df3fef1e44c4598db8">advance</a>) <span class="keywordflow">goto</span> SEQDONE;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">// Song loop</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>] == <a class="code" href="gcommon_8h.html#a7db58da11d12e4b50c548babffdaa2cd">LOOPSONG</a>)</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    {</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> = <a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>+1];</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;      <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> &gt;= <a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>])</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      {</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> = 0;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">goto</span> SEQDONE;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;      }</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="comment">// Transpose</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>] &gt;= <a class="code" href="gcommon_8h.html#abfce284aad36ea70802f1e008abb4ddc">TRANSDOWN</a>) &amp;&amp; (<a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>] &lt; <a class="code" href="gcommon_8h.html#a7db58da11d12e4b50c548babffdaa2cd">LOOPSONG</a>))</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    {</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#aff7f479520df3e55dd1271ff25376a6a">trans</a> = <a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>]-<a class="code" href="gcommon_8h.html#a4509ba37c2112798446341e3313a45a1">TRANSUP</a>;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>++;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    }</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;    <span class="comment">// Repeat</span></div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>] &gt;= <a class="code" href="gcommon_8h.html#a2c9384c67919c632913b8db2088f8341">REPEAT</a>) &amp;&amp; (<a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>] &lt; <a class="code" href="gcommon_8h.html#abfce284aad36ea70802f1e008abb4ddc">TRANSDOWN</a>))</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    {</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a3fcd36b5f45dd7d834451cb9e1b81169">repeat</a> = <a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>]-<a class="code" href="gcommon_8h.html#a2c9384c67919c632913b8db2088f8341">REPEAT</a>;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>++;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    }</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="comment">// Pattern number</span></div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a> = <a class="code" href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>][cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>];</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a3fcd36b5f45dd7d834451cb9e1b81169">repeat</a>)</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a3fcd36b5f45dd7d834451cb9e1b81169">repeat</a>--;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a>++;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160; </div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// Check for illegal pattern now</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a> &gt;= <a class="code" href="gcommon_8h.html#a01fd390c2fb20362b31fdd4173eec6db">MAX_PATT</a>)</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      <a class="code" href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a>();</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a> = 0;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">if</span> (cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> &gt;= (<a class="code" href="gsong_8c.html#a6d856cee64b0582c5801022ed842cb7b">pattlen</a>[cptr-&gt;<a class="code" href="struct_c_h_n.html#a8045354c938887e525e448c890722515">pattnum</a>] * 4))</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">pattptr</a> = 0;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      </div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">// Check for playback endpos</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a> != <a class="code" href="gplay_8h.html#a4a8c2495a0dff6fb63386ebb52fae0fe">PLAY_BEGINNING</a>) &amp;&amp; (<a class="code" href="gorder_8c.html#a553f387d76d1b261322ca472064ad049">esend</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] &gt; 0) &amp;&amp; (<a class="code" href="gorder_8c.html#a553f387d76d1b261322ca472064ad049">esend</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] &gt; <a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>]) &amp;&amp; (cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> &gt; <a class="code" href="gorder_8c.html#a553f387d76d1b261322ca472064ad049">esend</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>]) &amp;&amp; (<a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>] &lt; <a class="code" href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a>[<a class="code" href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a>][<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>]))</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;      cptr-&gt;<a class="code" href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">songptr</a> = <a class="code" href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a>[<a class="code" href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a>];</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  SEQDONE: {}</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agplay_8c_html_a0bdf781d7654bdc9b3ecc8aec94b5b8e"><div class="ttname"><a href="gplay_8c.html#a0bdf781d7654bdc9b3ecc8aec94b5b8e">filtercutoff</a></div><div class="ttdeci">unsigned char filtercutoff</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00040">gplay.c:40</a></div></div>
<div class="ttc" id="agdisplay_8c_html_ac8c2384055149b769b0e33314d3db252"><div class="ttname"><a href="gdisplay_8c.html#ac8c2384055149b769b0e33314d3db252">resettime</a></div><div class="ttdeci">void resettime(void)</div><div class="ttdef"><b>Definition:</b> <a href="gdisplay_8c_source.html#l00515">gdisplay.c:515</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a6a7257e090cb6ba2e5fc7acda2d0220d"><div class="ttname"><a href="struct_c_h_n.html#a6a7257e090cb6ba2e5fc7acda2d0220d">CHN::lastnote</a></div><div class="ttdeci">unsigned char lastnote</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00016">gplay.h:16</a></div></div>
<div class="ttc" id="agplay_8c_html_a83a1a6c098f32a586373e690b5cff68c"><div class="ttname"><a href="gplay_8c.html#a83a1a6c098f32a586373e690b5cff68c">mutechannel</a></div><div class="ttdeci">void mutechannel(int chnnum)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00151">gplay.c:151</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a125c813b124bebd0d6061f83643e1945"><div class="ttname"><a href="struct_c_h_n.html#a125c813b124bebd0d6061f83643e1945">CHN::newcommand</a></div><div class="ttdeci">unsigned char newcommand</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00033">gplay.h:33</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_ac527619296bb4e5cdfd5b0379aba2bd6"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#ac527619296bb4e5cdfd5b0379aba2bd6">if</a></div><div class="ttdeci">cross at only use a fragment of the sound if(debugging==1) % previewLength</div></div>
<div class="ttc" id="agcommon_8h_html_ad2bbba0de5a7363669385359c269f103"><div class="ttname"><a href="gcommon_8h.html#ad2bbba0de5a7363669385359c269f103">MAX_CHN</a></div><div class="ttdeci">#define MAX_CHN</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00029">gcommon.h:29</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a9dd5e16c4953973c2cbc2046c6e161ba"><div class="ttname"><a href="struct_c_h_n.html#a9dd5e16c4953973c2cbc2046c6e161ba">CHN::vibtime</a></div><div class="ttdeci">unsigned char vibtime</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00029">gplay.h:29</a></div></div>
<div class="ttc" id="agcommon_8h_html_a215c878c71da961015066c6b543f6af4"><div class="ttname"><a href="gcommon_8h.html#a215c878c71da961015066c6b543f6af4">CMD_SETTEMPO</a></div><div class="ttdeci">#define CMD_SETTEMPO</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00019">gcommon.h:19</a></div></div>
<div class="ttc" id="agcommon_8h_html_a0c4beb8e210e595f5dc686ca2de3b1a0"><div class="ttname"><a href="gcommon_8h.html#a0c4beb8e210e595f5dc686ca2de3b1a0">CMD_SETWAVE</a></div><div class="ttdeci">#define CMD_SETWAVE</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00011">gcommon.h:11</a></div></div>
<div class="ttc" id="agcommon_8h_html_a0fa169c85ba39d46bb831cabc3df31de"><div class="ttname"><a href="gcommon_8h.html#a0fa169c85ba39d46bb831cabc3df31de">WAVELASTSILENT</a></div><div class="ttdeci">#define WAVELASTSILENT</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00059">gcommon.h:59</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_af75c7330681786eacf5aca6493a1f7eb"><div class="ttname"><a href="struct_i_n_s_t_r.html#af75c7330681786eacf5aca6493a1f7eb">INSTR::ptr</a></div><div class="ttdeci">unsigned char ptr[MAX_TABLES]</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00067">gcommon.h:67</a></div></div>
<div class="ttc" id="agplay_8h_html_aafd5c361c78dc114e251611ba14e77aa"><div class="ttname"><a href="gplay_8h.html#aafd5c361c78dc114e251611ba14e77aa">PLAY_STOPPED</a></div><div class="ttdeci">#define PLAY_STOPPED</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00009">gplay.h:9</a></div></div>
<div class="ttc" id="agcommon_8h_html_a84299d0617605e29e9f5cb5a8157ed61"><div class="ttname"><a href="gcommon_8h.html#a84299d0617605e29e9f5cb5a8157ed61">CMD_FUNKTEMPO</a></div><div class="ttdeci">#define CMD_FUNKTEMPO</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00018">gcommon.h:18</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_a9c3cdce46fdd1eb48eb492eabb092231"><div class="ttname"><a href="struct_i_n_s_t_r.html#a9c3cdce46fdd1eb48eb492eabb092231">INSTR::vibdelay</a></div><div class="ttdeci">unsigned char vibdelay</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00068">gcommon.h:68</a></div></div>
<div class="ttc" id="agplay_8c_html_a88526746443d49ab7f4226aa2af4f2d5"><div class="ttname"><a href="gplay_8c.html#a88526746443d49ab7f4226aa2af4f2d5">initchannels</a></div><div class="ttdeci">void initchannels(void)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00052">gplay.c:52</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_ab9171a551c3df262ab26158bbe8ac6f3"><div class="ttname"><a href="struct_c_h_n.html#ab9171a551c3df262ab26158bbe8ac6f3">CHN::newcmddata</a></div><div class="ttdeci">unsigned char newcmddata</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00034">gplay.h:34</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a0df0f9ff0dcadc702db1c705d0bb8347"><div class="ttname"><a href="struct_c_h_n.html#a0df0f9ff0dcadc702db1c705d0bb8347">CHN::pulse</a></div><div class="ttdeci">unsigned short pulse</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00025">gplay.h:25</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_acfcf7d17d7e95876b78db18e00a9e300"><div class="ttname"><a href="struct_i_n_s_t_r.html#acfcf7d17d7e95876b78db18e00a9e300">INSTR::firstwave</a></div><div class="ttdeci">unsigned char firstwave</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00070">gcommon.h:70</a></div></div>
<div class="ttc" id="agoattrk2_8c_html_aa00849a0ec632acdde67981aa7b067d7"><div class="ttname"><a href="goattrk2_8c.html#aa00849a0ec632acdde67981aa7b067d7">followplay</a></div><div class="ttdeci">int followplay</div><div class="ttdef"><b>Definition:</b> <a href="goattrk2_8c_source.html#l00031">goattrk2.c:31</a></div></div>
<div class="ttc" id="agsong_8c_html_a2430e0ea69572c25c8f9e5e05552a452"><div class="ttname"><a href="gsong_8c.html#a2430e0ea69572c25c8f9e5e05552a452">ltable</a></div><div class="ttdeci">unsigned char ltable[MAX_TABLES][MAX_TABLELEN]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00010">gsong.c:10</a></div></div>
<div class="ttc" id="agplay_8c_html_afbb17bdcda46d0f57bfbea2c0c081d5e"><div class="ttname"><a href="gplay_8c.html#afbb17bdcda46d0f57bfbea2c0c081d5e">funktable</a></div><div class="ttdeci">unsigned char funktable[2]</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00043">gplay.c:43</a></div></div>
<div class="ttc" id="agcommon_8h_html_a2c3a191cb4ad0e39116a4352ecea4b5e"><div class="ttname"><a href="gcommon_8h.html#a2c3a191cb4ad0e39116a4352ecea4b5e">WAVESILENT</a></div><div class="ttdeci">#define WAVESILENT</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00058">gcommon.h:58</a></div></div>
<div class="ttc" id="agcommon_8h_html_a21bd0656e605d1e03ece1a6cfe7787da"><div class="ttname"><a href="gcommon_8h.html#a21bd0656e605d1e03ece1a6cfe7787da">CMD_SETAD</a></div><div class="ttdeci">#define CMD_SETAD</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00009">gcommon.h:9</a></div></div>
<div class="ttc" id="a_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt_html_a65fc36bc1df26831131901bbe2fdcda6"><div class="ttname"><a href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a65fc36bc1df26831131901bbe2fdcda6">mode</a></div><div class="ttdeci">GoatTracker v2 Editor by Lasse Valerio Raine M Tero Henrik Paulini and Groepaz Microtonal support by Birgit Jauernig Distributed under GNU General Public License(see the file COPYING for details) Covert BitOps homepage you might want to try even a or tweak the hardware acceleration level of the reSID interpolation will take remarkably more CPU time and could cause the sound and or editing to get choppy Finevibrato mode is on by default You can change this behaviour with V option Note that finevibrato mode only affects the conversion of old style vibrato parameters to speedtable format Pulse optimization O determines if pulsetable execution will be skipped when getting new notes or a new pattern By default it is on Be warned that turning it off will increase the rastertime requirements of packed relocated songs greatly ! Realtime command optimization R determines if vibrato &amp;instrument vibrato will be skipped on tick of each pattern row By default it is as this is how tracker programs have operated traditionally Turning it off makes the commands sound same regardless of tempo but will increase rastertime use The hard restart ADSR parameter will especially affect how rapid passages of notes will sound like is probably too hard to be except perhaps with gateoff timer and adds also a little bit of release to the gateoff phase for even softer sound makes the note start very pronounced Hard restart parameter with attack at where waveform is written before ADSR This can give more reliable note especially for very fast releases but may change the characteristics of the note s decay &amp;release The dotted pattern display return to emulated speed modulation step to&lt; time, speed &gt; SHIFT N Negate speed press SHIFT INS instead of just you can first enter a positive speed positive C if octave is and so on When table scrolling is each table maintains its separate view position To indicate this mode</div><div class="ttdef"><b>Definition:</b> <a href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt_source.html#l00543">readme.txt:543</a></div></div>
<div class="ttc" id="agcommon_8h_html_a8690eb0d0b3dfd7a4bae0768d8a9c543"><div class="ttname"><a href="gcommon_8h.html#a8690eb0d0b3dfd7a4bae0768d8a9c543">WAVECMD</a></div><div class="ttdeci">#define WAVECMD</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00060">gcommon.h:60</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a8fbe698a444ad309ba87675203c0e47d"><div class="ttname"><a href="struct_c_h_n.html#a8fbe698a444ad309ba87675203c0e47d">CHN::wave</a></div><div class="ttdeci">unsigned char wave</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00024">gplay.h:24</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a190e0ec5a8151cee6333ca157a10edf3"><div class="ttname"><a href="struct_c_h_n.html#a190e0ec5a8151cee6333ca157a10edf3">CHN::pattptr</a></div><div class="ttdeci">unsigned pattptr</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00018">gplay.h:18</a></div></div>
<div class="ttc" id="agplay_8c_html_a7031f736258667561dba6f62a8853e01"><div class="ttname"><a href="gplay_8c.html#a7031f736258667561dba6f62a8853e01">freqtblhi</a></div><div class="ttdeci">unsigned char freqtblhi[]</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00023">gplay.c:23</a></div></div>
<div class="ttc" id="astruct_c_h_n_html"><div class="ttname"><a href="struct_c_h_n.html">CHN</a></div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00011">gplay.h:11</a></div></div>
<div class="ttc" id="agcommon_8h_html_a01fd390c2fb20362b31fdd4173eec6db"><div class="ttname"><a href="gcommon_8h.html#a01fd390c2fb20362b31fdd4173eec6db">MAX_PATT</a></div><div class="ttdeci">#define MAX_PATT</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00030">gcommon.h:30</a></div></div>
<div class="ttc" id="agdisplay_8c_html_ad2acdaf68304d6a7f28718ff23728385"><div class="ttname"><a href="gdisplay_8c.html#ad2acdaf68304d6a7f28718ff23728385">incrementtime</a></div><div class="ttdeci">void incrementtime(void)</div><div class="ttdef"><b>Definition:</b> <a href="gdisplay_8c_source.html#l00522">gdisplay.c:522</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_a624b0487cb16c36ed0a03712ebbf3600"><div class="ttname"><a href="struct_i_n_s_t_r.html#a624b0487cb16c36ed0a03712ebbf3600">INSTR::sr</a></div><div class="ttdeci">unsigned char sr</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00066">gcommon.h:66</a></div></div>
<div class="ttc" id="agpattern_8c_html_a7835b517d1918246094a5b20b13227b2"><div class="ttname"><a href="gpattern_8c.html#a7835b517d1918246094a5b20b13227b2">epnum</a></div><div class="ttdeci">int epnum[MAX_CHN]</div><div class="ttdef"><b>Definition:</b> <a href="gpattern_8c_source.html#l00029">gpattern.c:29</a></div></div>
<div class="ttc" id="agoattrk2_8c_html_a2e57bf713b9f4570507c71550a1e5944"><div class="ttname"><a href="goattrk2_8c.html#a2e57bf713b9f4570507c71550a1e5944">optimizerealtime</a></div><div class="ttdeci">unsigned optimizerealtime</div><div class="ttdef"><b>Definition:</b> <a href="goattrk2_8c_source.html#l00055">goattrk2.c:55</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_af27833f8e84a01e7bce4c4f06178f6a9"><div class="ttname"><a href="struct_c_h_n.html#af27833f8e84a01e7bce4c4f06178f6a9">CHN::freq</a></div><div class="ttdeci">unsigned short freq</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00022">gplay.h:22</a></div></div>
<div class="ttc" id="agplay_8h_html_a99429b3187831bc3fc150c309d617a29"><div class="ttname"><a href="gplay_8h.html#a99429b3187831bc3fc150c309d617a29">PLAY_POS</a></div><div class="ttdeci">#define PLAY_POS</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00006">gplay.h:6</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a8045354c938887e525e448c890722515"><div class="ttname"><a href="struct_c_h_n.html#a8045354c938887e525e448c890722515">CHN::pattnum</a></div><div class="ttdeci">unsigned char pattnum</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00019">gplay.h:19</a></div></div>
<div class="ttc" id="agcommon_8h_html_af82bddaeb818cb31a09a0113e9d916ad"><div class="ttname"><a href="gcommon_8h.html#af82bddaeb818cb31a09a0113e9d916ad">LASTNOTE</a></div><div class="ttdeci">#define LASTNOTE</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00049">gcommon.h:49</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_aec825a04fb76012cb1bc16f0047e8213"><div class="ttname"><a href="struct_i_n_s_t_r.html#aec825a04fb76012cb1bc16f0047e8213">INSTR::ad</a></div><div class="ttdeci">unsigned char ad</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00065">gcommon.h:65</a></div></div>
<div class="ttc" id="agplay_8c_html_a11c1836304331244d5809870f518fb15"><div class="ttname"><a href="gplay_8c.html#a11c1836304331244d5809870f518fb15">playtestnote</a></div><div class="ttdeci">void playtestnote(int note, int ins, int chnnum)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00118">gplay.c:118</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a3fcd36b5f45dd7d834451cb9e1b81169"><div class="ttname"><a href="struct_c_h_n.html#a3fcd36b5f45dd7d834451cb9e1b81169">CHN::repeat</a></div><div class="ttdeci">unsigned char repeat</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00021">gplay.h:21</a></div></div>
<div class="ttc" id="astring_8h_html_a61225aab8c8ea6fd46ee4def7d35a0b8"><div class="ttname"><a href="string_8h.html#a61225aab8c8ea6fd46ee4def7d35a0b8">memset</a></div><div class="ttdeci">void *__fastcall__ memset(void *s, int c, size_t count)</div></div>
<div class="ttc" id="astruct_c_h_n_html_aab0c10f993ff55284b460514eaf1e015"><div class="ttname"><a href="struct_c_h_n.html#aab0c10f993ff55284b460514eaf1e015">CHN::gatetimer</a></div><div class="ttdeci">unsigned char gatetimer</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00039">gplay.h:39</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_ac5e01aa10e4be943d73207e55ff03668"><div class="ttname"><a href="struct_c_h_n.html#ac5e01aa10e4be943d73207e55ff03668">CHN::cmddata</a></div><div class="ttdeci">unsigned char cmddata</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00032">gplay.h:32</a></div></div>
<div class="ttc" id="agplay_8c_html_a13143dad80789e361b49e4b0dc17f0a1"><div class="ttname"><a href="gplay_8c.html#a13143dad80789e361b49e4b0dc17f0a1">releasenote</a></div><div class="ttdeci">void releasenote(int chnnum)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00146">gplay.c:146</a></div></div>
<div class="ttc" id="agcommon_8h_html_afac2960fd1c1ffc522f4fa8fb1ae16d7"><div class="ttname"><a href="gcommon_8h.html#afac2960fd1c1ffc522f4fa8fb1ae16d7">STBL</a></div><div class="ttdeci">#define STBL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00024">gcommon.h:24</a></div></div>
<div class="ttc" id="agcommon_8h_html_af61315e1c4a04436923a5c52196cdd3c"><div class="ttname"><a href="gcommon_8h.html#af61315e1c4a04436923a5c52196cdd3c">REST</a></div><div class="ttdeci">#define REST</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00050">gcommon.h:50</a></div></div>
<div class="ttc" id="agplay_8c_html_a8a59a144681d102fae9637b8a70756aa"><div class="ttname"><a href="gplay_8c.html#a8a59a144681d102fae9637b8a70756aa">stopsong</a></div><div class="ttdeci">void stopsong(void)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00102">gplay.c:102</a></div></div>
<div class="ttc" id="agcommon_8h_html_ad49b070003a1910ad3011c752ed01467"><div class="ttname"><a href="gcommon_8h.html#ad49b070003a1910ad3011c752ed01467">CMD_DONOTHING</a></div><div class="ttdeci">#define CMD_DONOTHING</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00004">gcommon.h:4</a></div></div>
<div class="ttc" id="agplay_8c_html_a06f5bf886188277a3172789da76fd1e6"><div class="ttname"><a href="gplay_8c.html#a06f5bf886188277a3172789da76fd1e6">playroutine</a></div><div class="ttdeci">void playroutine(void)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00161">gplay.c:161</a></div></div>
<div class="ttc" id="agplay_8h_html_aff79db6b3b10c663098f04895ea241f2"><div class="ttname"><a href="gplay_8h.html#aff79db6b3b10c663098f04895ea241f2">PLAY_PATTERN</a></div><div class="ttdeci">#define PLAY_PATTERN</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00007">gplay.h:7</a></div></div>
<div class="ttc" id="agcommon_8h_html_a2c9384c67919c632913b8db2088f8341"><div class="ttname"><a href="gcommon_8h.html#a2c9384c67919c632913b8db2088f8341">REPEAT</a></div><div class="ttdeci">#define REPEAT</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00039">gcommon.h:39</a></div></div>
<div class="ttc" id="agcommon_8h_html_abfce284aad36ea70802f1e008abb4ddc"><div class="ttname"><a href="gcommon_8h.html#abfce284aad36ea70802f1e008abb4ddc">TRANSDOWN</a></div><div class="ttdeci">#define TRANSDOWN</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00040">gcommon.h:40</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_ad60933d2517c096cc722d5538d5c7cff"><div class="ttname"><a href="struct_c_h_n.html#ad60933d2517c096cc722d5538d5c7cff">CHN::tick</a></div><div class="ttdeci">unsigned char tick</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00035">gplay.h:35</a></div></div>
<div class="ttc" id="agorder_8c_html_ad1e8c2034ce6f770006d84ed4306fdf6"><div class="ttname"><a href="gorder_8c.html#ad1e8c2034ce6f770006d84ed4306fdf6">espos</a></div><div class="ttdeci">int espos[MAX_CHN]</div><div class="ttdef"><b>Definition:</b> <a href="gorder_8c_source.html#l00014">gorder.c:14</a></div></div>
<div class="ttc" id="agcommon_8h_html_a7502f91447f261baed62be6727621b79"><div class="ttname"><a href="gcommon_8h.html#a7502f91447f261baed62be6727621b79">CMD_SETMASTERVOL</a></div><div class="ttdeci">#define CMD_SETMASTERVOL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00017">gcommon.h:17</a></div></div>
<div class="ttc" id="agplay_8c_html_a3897f115a1451faf6d8b32e612dfa5ed"><div class="ttname"><a href="gplay_8c.html#a3897f115a1451faf6d8b32e612dfa5ed">rewindsong</a></div><div class="ttdeci">void rewindsong(void)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00112">gplay.c:112</a></div></div>
<div class="ttc" id="agcommon_8h_html_a42541bcc70c1a7357f50f689a7f6511a"><div class="ttname"><a href="gcommon_8h.html#a42541bcc70c1a7357f50f689a7f6511a">CMD_PORTAUP</a></div><div class="ttdeci">#define CMD_PORTAUP</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00005">gcommon.h:5</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html_aab0c10f993ff55284b460514eaf1e015"><div class="ttname"><a href="struct_i_n_s_t_r.html#aab0c10f993ff55284b460514eaf1e015">INSTR::gatetimer</a></div><div class="ttdeci">unsigned char gatetimer</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00069">gcommon.h:69</a></div></div>
<div class="ttc" id="agsound_8c_html_a39dbdeb35d40d8da0cf727c035d92247"><div class="ttname"><a href="gsound_8c.html#a39dbdeb35d40d8da0cf727c035d92247">sound_flush</a></div><div class="ttdeci">void sound_flush(void)</div><div class="ttdef"><b>Definition:</b> <a href="gsound_8c_source.html#l00335">gsound.c:335</a></div></div>
<div class="ttc" id="agcommon_8h_html_adafddd66429ee14bb05ad9ab679fe471"><div class="ttname"><a href="gcommon_8h.html#adafddd66429ee14bb05ad9ab679fe471">CMD_VIBRATO</a></div><div class="ttdeci">#define CMD_VIBRATO</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00008">gcommon.h:8</a></div></div>
<div class="ttc" id="agcommon_8h_html_a8dce333e433c62ae64a87e2adb0a6567"><div class="ttname"><a href="gcommon_8h.html#a8dce333e433c62ae64a87e2adb0a6567">WAVELASTDELAY</a></div><div class="ttdeci">#define WAVELASTDELAY</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00057">gcommon.h:57</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_af48e0311746bc01574a90f142220e748"><div class="ttname"><a href="struct_c_h_n.html#af48e0311746bc01574a90f142220e748">CHN::command</a></div><div class="ttdeci">unsigned char command</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00031">gplay.h:31</a></div></div>
<div class="ttc" id="agoattrk2_8h_html"><div class="ttname"><a href="goattrk2_8h.html">goattrk2.h</a></div></div>
<div class="ttc" id="agcommon_8h_html_a3f463ddc7b9fd5fa9d5696d3c834964a"><div class="ttname"><a href="gcommon_8h.html#a3f463ddc7b9fd5fa9d5696d3c834964a">CMD_SETWAVEPTR</a></div><div class="ttdeci">#define CMD_SETWAVEPTR</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00012">gcommon.h:12</a></div></div>
<div class="ttc" id="agsong_8c_html_ab53840f73c7eddca7a98e4a6336d1e52"><div class="ttname"><a href="gsong_8c.html#ab53840f73c7eddca7a98e4a6336d1e52">songlen</a></div><div class="ttdeci">int songlen[MAX_SONGS][MAX_CHN]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00018">gsong.c:18</a></div></div>
<div class="ttc" id="agcommon_8h_html_a5dc7e869c97d9348685ce5cecd11b04b"><div class="ttname"><a href="gcommon_8h.html#a5dc7e869c97d9348685ce5cecd11b04b">CMD_SETFILTERPTR</a></div><div class="ttdeci">#define CMD_SETFILTERPTR</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00014">gcommon.h:14</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_a6ac2307f39b426af1c2aad8822bb3e0b"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#a6ac2307f39b426af1c2aad8822bb3e0b">speed</a></div><div class="ttdeci">end speed</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l00836">cubase64_1analyzePitch.m:836</a></div></div>
<div class="ttc" id="agcommon_8h_html_a35c10e97dee71396ef97f528fc4f03aa"><div class="ttname"><a href="gcommon_8h.html#a35c10e97dee71396ef97f528fc4f03aa">PTBL</a></div><div class="ttdeci">#define PTBL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00022">gcommon.h:22</a></div></div>
<div class="ttc" id="agcommon_8h_html_a9bbb4f95e62b74e221642e07a4d71f45"><div class="ttname"><a href="gcommon_8h.html#a9bbb4f95e62b74e221642e07a4d71f45">KEYOFF</a></div><div class="ttdeci">#define KEYOFF</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00051">gcommon.h:51</a></div></div>
<div class="ttc" id="agplay_8c_html_a91edfa3df855ead6740b056c692f1df6"><div class="ttname"><a href="gplay_8c.html#a91edfa3df855ead6740b056c692f1df6">filtertype</a></div><div class="ttdeci">unsigned char filtertype</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00039">gplay.c:39</a></div></div>
<div class="ttc" id="agplay_8c_html_ad44828c170748e0a0ba929db5232db2c"><div class="ttname"><a href="gplay_8c.html#ad44828c170748e0a0ba929db5232db2c">initsong</a></div><div class="ttdeci">void initsong(int num, int mode)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00082">gplay.c:82</a></div></div>
<div class="ttc" id="agplay_8c_html_ac471d45bc2cdee9444debb7e46c86769"><div class="ttname"><a href="gplay_8c.html#ac471d45bc2cdee9444debb7e46c86769">masterfader</a></div><div class="ttdeci">unsigned char masterfader</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00044">gplay.c:44</a></div></div>
<div class="ttc" id="agoattrk2_8c_html_a3643c6400cb2ea76c4fd5abaac8a3bb9"><div class="ttname"><a href="goattrk2_8c.html#a3643c6400cb2ea76c4fd5abaac8a3bb9">multiplier</a></div><div class="ttdeci">unsigned multiplier</div><div class="ttdef"><b>Definition:</b> <a href="goattrk2_8c_source.html#l00048">goattrk2.c:48</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a39d77ec095e9c968ab89cbabbba22014"><div class="ttname"><a href="struct_c_h_n.html#a39d77ec095e9c968ab89cbabbba22014">CHN::pulsetime</a></div><div class="ttdeci">unsigned char pulsetime</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00027">gplay.h:27</a></div></div>
<div class="ttc" id="agplay_8c_html_a3648c1444aa177b56cb678b9d07b8166"><div class="ttname"><a href="gplay_8c.html#a3648c1444aa177b56cb678b9d07b8166">filterptr</a></div><div class="ttdeci">unsigned char filterptr</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00042">gplay.c:42</a></div></div>
<div class="ttc" id="agcommon_8h_html_aaa1f03ade6df21e4d81ca12e8b050e13"><div class="ttname"><a href="gcommon_8h.html#aaa1f03ade6df21e4d81ca12e8b050e13">KEYON</a></div><div class="ttdeci">#define KEYON</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00052">gcommon.h:52</a></div></div>
<div class="ttc" id="agcommon_8h_html_a9a3172635262c49ae5536c9c1742047c"><div class="ttname"><a href="gcommon_8h.html#a9a3172635262c49ae5536c9c1742047c">ENDPATT</a></div><div class="ttdeci">#define ENDPATT</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00044">gcommon.h:44</a></div></div>
<div class="ttc" id="agplay_8c_html_ac809178e794cdc0b5d7e038bfe70f4d6"><div class="ttname"><a href="gplay_8c.html#ac809178e794cdc0b5d7e038bfe70f4d6">freqtbllo</a></div><div class="ttdeci">unsigned char freqtbllo[]</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00009">gplay.c:9</a></div></div>
<div class="ttc" id="acubase64__4encode_waveforms_8m_html_a9fef684aaa870adc27303f21f263d344"><div class="ttname"><a href="cubase64__4encode_waveforms_8m.html#a9fef684aaa870adc27303f21f263d344">wave</a></div><div class="ttdeci">Now smooth the Sustain Level so that it _never_ raises the volume unless we re playing a silent wave</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__4encode_waveforms_8m_source.html#l00333">cubase64_4encodeWaveforms.m:333</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_aff7f479520df3e55dd1271ff25376a6a"><div class="ttname"><a href="struct_c_h_n.html#aff7f479520df3e55dd1271ff25376a6a">CHN::trans</a></div><div class="ttdeci">unsigned char trans</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00013">gplay.h:13</a></div></div>
<div class="ttc" id="agoattrk2_8c_html_a26789d8c26786488fdd77a0e66faf045"><div class="ttname"><a href="goattrk2_8c.html#a26789d8c26786488fdd77a0e66faf045">optimizepulse</a></div><div class="ttdeci">unsigned optimizepulse</div><div class="ttdef"><b>Definition:</b> <a href="goattrk2_8c_source.html#l00054">goattrk2.c:54</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a8da8a8bd6ad2967e61539af2e2a6d22e"><div class="ttname"><a href="struct_c_h_n.html#a8da8a8bd6ad2967e61539af2e2a6d22e">CHN::ptr</a></div><div class="ttdeci">unsigned char ptr[2]</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00026">gplay.h:26</a></div></div>
<div class="ttc" id="agcommon_8h_html_abfe901807d585255884c1362a93b00ea"><div class="ttname"><a href="gcommon_8h.html#abfe901807d585255884c1362a93b00ea">CMD_SETFILTERCTRL</a></div><div class="ttdeci">#define CMD_SETFILTERCTRL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00015">gcommon.h:15</a></div></div>
<div class="ttc" id="agsong_8c_html_ac25e721e8b62711f4169057b8c13f7c1"><div class="ttname"><a href="gsong_8c.html#ac25e721e8b62711f4169057b8c13f7c1">pattern</a></div><div class="ttdeci">unsigned char pattern[MAX_PATT][MAX_PATTROWS *4+4]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00013">gsong.c:13</a></div></div>
<div class="ttc" id="agplay_8c_html_a736473ec0e36aa4b971c9691c5a78a78"><div class="ttname"><a href="gplay_8c.html#a736473ec0e36aa4b971c9691c5a78a78">songinit</a></div><div class="ttdeci">int songinit</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00046">gplay.c:46</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_afb42788002b700ab547ed68f2bc31dc9"><div class="ttname"><a href="struct_c_h_n.html#afb42788002b700ab547ed68f2bc31dc9">CHN::mute</a></div><div class="ttdeci">unsigned char mute</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00037">gplay.h:37</a></div></div>
<div class="ttc" id="agcommon_8h_html_a4ecf84694a200a5bdf5ceabd86e35dba"><div class="ttname"><a href="gcommon_8h.html#a4ecf84694a200a5bdf5ceabd86e35dba">CMD_SETFILTERCUTOFF</a></div><div class="ttdeci">#define CMD_SETFILTERCUTOFF</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00016">gcommon.h:16</a></div></div>
<div class="ttc" id="agplay_8h_html_a4a8c2495a0dff6fb63386ebb52fae0fe"><div class="ttname"><a href="gplay_8h.html#a4a8c2495a0dff6fb63386ebb52fae0fe">PLAY_BEGINNING</a></div><div class="ttdeci">#define PLAY_BEGINNING</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00005">gplay.h:5</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a9c3cdce46fdd1eb48eb492eabb092231"><div class="ttname"><a href="struct_c_h_n.html#a9c3cdce46fdd1eb48eb492eabb092231">CHN::vibdelay</a></div><div class="ttdeci">unsigned char vibdelay</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00030">gplay.h:30</a></div></div>
<div class="ttc" id="agsong_8c_html_a24f00fadb3bc024ae7900584eb09b739"><div class="ttname"><a href="gsong_8c.html#a24f00fadb3bc024ae7900584eb09b739">songorder</a></div><div class="ttdeci">unsigned char songorder[MAX_SONGS][MAX_CHN][MAX_SONGLEN+2]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00012">gsong.c:12</a></div></div>
<div class="ttc" id="agplay_8c_html_a8ad6ac7ddf6e555e3af0547ef257443d"><div class="ttname"><a href="gplay_8c.html#a8ad6ac7ddf6e555e3af0547ef257443d">isplaying</a></div><div class="ttdeci">int isplaying(void)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00156">gplay.c:156</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_aea6dc71186291363af41b4ce896f52f4"><div class="ttname"><a href="struct_c_h_n.html#aea6dc71186291363af41b4ce896f52f4">CHN::note</a></div><div class="ttdeci">unsigned char note</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00015">gplay.h:15</a></div></div>
<div class="ttc" id="agcommon_8h_html_a416e7a391678d5d76f19d52c48e04c11"><div class="ttname"><a href="gcommon_8h.html#a416e7a391678d5d76f19d52c48e04c11">CMD_PORTADOWN</a></div><div class="ttdeci">#define CMD_PORTADOWN</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00006">gcommon.h:6</a></div></div>
<div class="ttc" id="agplay_8h_html_adfa6a9e47040d791d57dc7fd49357f3c"><div class="ttname"><a href="gplay_8h.html#adfa6a9e47040d791d57dc7fd49357f3c">PLAY_STOP</a></div><div class="ttdeci">#define PLAY_STOP</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00008">gplay.h:8</a></div></div>
<div class="ttc" id="astruct_i_n_s_t_r_html"><div class="ttname"><a href="struct_i_n_s_t_r.html">INSTR</a></div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00063">gcommon.h:63</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a789f705f03c183df3fef1e44c4598db8"><div class="ttname"><a href="struct_c_h_n.html#a789f705f03c183df3fef1e44c4598db8">CHN::advance</a></div><div class="ttdeci">unsigned char advance</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00038">gplay.h:38</a></div></div>
<div class="ttc" id="agplay_8c_html_a588404b0bd626bdf7ad4591c1ea22e75"><div class="ttname"><a href="gplay_8c.html#a588404b0bd626bdf7ad4591c1ea22e75">startpattpos</a></div><div class="ttdeci">int startpattpos</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00048">gplay.c:48</a></div></div>
<div class="ttc" id="agsong_8c_html_a6d856cee64b0582c5801022ed842cb7b"><div class="ttname"><a href="gsong_8c.html#a6d856cee64b0582c5801022ed842cb7b">pattlen</a></div><div class="ttdeci">int pattlen[MAX_PATT]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00017">gsong.c:17</a></div></div>
<div class="ttc" id="agcommon_8h_html_a781fcc5c3342edecba86b7e2a0195c4c"><div class="ttname"><a href="gcommon_8h.html#a781fcc5c3342edecba86b7e2a0195c4c">MAX_INSTR</a></div><div class="ttdeci">#define MAX_INSTR</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00028">gcommon.h:28</a></div></div>
<div class="ttc" id="agplay_8c_html_a2316c46aa2b41b1451bdea76adde5b46"><div class="ttname"><a href="gplay_8c.html#a2316c46aa2b41b1451bdea76adde5b46">sequencer</a></div><div class="ttdeci">void sequencer(int c, CHN *cptr)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00953">gplay.c:953</a></div></div>
<div class="ttc" id="agoattrk2_8c_html_a8c33e8bb4b84cf264ac93d607e830bf7"><div class="ttname"><a href="goattrk2_8c.html#a8c33e8bb4b84cf264ac93d607e830bf7">adparam</a></div><div class="ttdeci">unsigned adparam</div><div class="ttdef"><b>Definition:</b> <a href="goattrk2_8c_source.html#l00049">goattrk2.c:49</a></div></div>
<div class="ttc" id="agsid_8cpp_html_ac50a1956f0daf2c09938070c3024f07e"><div class="ttname"><a href="gsid_8cpp.html#ac50a1956f0daf2c09938070c3024f07e">sidreg</a></div><div class="ttdeci">unsigned char sidreg[NUMSIDREGS]</div><div class="ttdef"><b>Definition:</b> <a href="gsid_8cpp_source.html#l00017">gsid.cpp:17</a></div></div>
<div class="ttc" id="agsound_8c_html_aa90594d5a01463697afd750b99261b99"><div class="ttname"><a href="gsound_8c.html#aa90594d5a01463697afd750b99261b99">sound_suspend</a></div><div class="ttdeci">void sound_suspend(void)</div><div class="ttdef"><b>Definition:</b> <a href="gsound_8c_source.html#l00326">gsound.c:326</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a974f75906d56d8771787cb72832c7875"><div class="ttname"><a href="struct_c_h_n.html#a974f75906d56d8771787cb72832c7875">CHN::songptr</a></div><div class="ttdeci">unsigned char songptr</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00020">gplay.h:20</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a1d001ebef0478513d6ece56d048444ff"><div class="ttname"><a href="struct_c_h_n.html#a1d001ebef0478513d6ece56d048444ff">CHN::instr</a></div><div class="ttdeci">unsigned char instr</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00014">gplay.h:14</a></div></div>
<div class="ttc" id="agcommon_8h_html_ac8b8d6d4c17014ef130a650d640fa47b"><div class="ttname"><a href="gcommon_8h.html#ac8b8d6d4c17014ef130a650d640fa47b">FTBL</a></div><div class="ttdeci">#define FTBL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00023">gcommon.h:23</a></div></div>
<div class="ttc" id="agplay_8c_html_a3975e9607ce6a17fc709f4c8f88d0634"><div class="ttname"><a href="gplay_8c.html#a3975e9607ce6a17fc709f4c8f88d0634">filterctrl</a></div><div class="ttdeci">unsigned char filterctrl</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00038">gplay.c:38</a></div></div>
<div class="ttc" id="agcommon_8h_html_a1f6f8ec5a473b1a49998a8b0ab98996b"><div class="ttname"><a href="gcommon_8h.html#a1f6f8ec5a473b1a49998a8b0ab98996b">FIRSTNOTE</a></div><div class="ttdeci">#define FIRSTNOTE</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00048">gcommon.h:48</a></div></div>
<div class="ttc" id="agsong_8c_html_aea846e0285b82d78e16d1dcda2a5cd84"><div class="ttname"><a href="gsong_8c.html#aea846e0285b82d78e16d1dcda2a5cd84">instr</a></div><div class="ttdeci">INSTR instr[MAX_INSTR]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00009">gsong.c:9</a></div></div>
<div class="ttc" id="agplay_8c_html_a27f31c48366fc4f2dc3ca54903832389"><div class="ttname"><a href="gplay_8c.html#a27f31c48366fc4f2dc3ca54903832389">initsongpos</a></div><div class="ttdeci">void initsongpos(int num, int mode, int pattpos)</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00092">gplay.c:92</a></div></div>
<div class="ttc" id="agcommon_8h_html_a1d7a06a37e06c80a1c216912e70fe837"><div class="ttname"><a href="gcommon_8h.html#a1d7a06a37e06c80a1c216912e70fe837">WAVELASTCMD</a></div><div class="ttdeci">#define WAVELASTCMD</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00061">gcommon.h:61</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a623a6d6f2ab337a67848e6d12fdb1c4c"><div class="ttname"><a href="struct_c_h_n.html#a623a6d6f2ab337a67848e6d12fdb1c4c">CHN::wavetime</a></div><div class="ttdeci">unsigned char wavetime</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00028">gplay.h:28</a></div></div>
<div class="ttc" id="agcommon_8h_html_af2334e062fa0d7e2814e9f17be944cf5"><div class="ttname"><a href="gcommon_8h.html#af2334e062fa0d7e2814e9f17be944cf5">CMD_TONEPORTA</a></div><div class="ttdeci">#define CMD_TONEPORTA</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00007">gcommon.h:7</a></div></div>
<div class="ttc" id="agplay_8c_html_a605348dedaf9f2086305540ef7ed8680"><div class="ttname"><a href="gplay_8c.html#a605348dedaf9f2086305540ef7ed8680">filtertime</a></div><div class="ttdeci">unsigned char filtertime</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00041">gplay.c:41</a></div></div>
<div class="ttc" id="agorder_8c_html_a553f387d76d1b261322ca472064ad049"><div class="ttname"><a href="gorder_8c.html#a553f387d76d1b261322ca472064ad049">esend</a></div><div class="ttdeci">int esend[MAX_CHN]</div><div class="ttdef"><b>Definition:</b> <a href="gorder_8c_source.html#l00015">gorder.c:15</a></div></div>
<div class="ttc" id="agplay_8c_html_a7e94610bbc8c3b11ee745c8a8e2bd612"><div class="ttname"><a href="gplay_8c.html#a7e94610bbc8c3b11ee745c8a8e2bd612">chn</a></div><div class="ttdeci">CHN chn[MAX_CHN]</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00037">gplay.c:37</a></div></div>
<div class="ttc" id="agplay_8c_html_a16d5feca6d52834a112f34ec4b80971c"><div class="ttname"><a href="gplay_8c.html#a16d5feca6d52834a112f34ec4b80971c">lastsonginit</a></div><div class="ttdeci">int lastsonginit</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00047">gplay.c:47</a></div></div>
<div class="ttc" id="agcommon_8h_html_a7db58da11d12e4b50c548babffdaa2cd"><div class="ttname"><a href="gcommon_8h.html#a7db58da11d12e4b50c548babffdaa2cd">LOOPSONG</a></div><div class="ttdeci">#define LOOPSONG</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00042">gcommon.h:42</a></div></div>
<div class="ttc" id="agcommon_8h_html_a4509ba37c2112798446341e3313a45a1"><div class="ttname"><a href="gcommon_8h.html#a4509ba37c2112798446341e3313a45a1">TRANSUP</a></div><div class="ttdeci">#define TRANSUP</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00041">gcommon.h:41</a></div></div>
<div class="ttc" id="acubase64__4encode_waveforms_8m_html_ae0323a9039add2978bf5b49550572c7c"><div class="ttname"><a href="cubase64__4encode_waveforms_8m.html#ae0323a9039add2978bf5b49550572c7c">c</a></div><div class="ttdeci">c</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__4encode_waveforms_8m_source.html#l00313">cubase64_4encodeWaveforms.m:313</a></div></div>
<div class="ttc" id="agcommon_8h_html_ae23d542d82bfaa4ea553a38c101605ce"><div class="ttname"><a href="gcommon_8h.html#ae23d542d82bfaa4ea553a38c101605ce">WTBL</a></div><div class="ttdeci">#define WTBL</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00021">gcommon.h:21</a></div></div>
<div class="ttc" id="agsong_8c_html_a74e4aa94d2db79b07d5b19507aab8160"><div class="ttname"><a href="gsong_8c.html#a74e4aa94d2db79b07d5b19507aab8160">rtable</a></div><div class="ttdeci">unsigned char rtable[MAX_TABLES][MAX_TABLELEN]</div><div class="ttdef"><b>Definition:</b> <a href="gsong_8c_source.html#l00011">gsong.c:11</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a2566c3ec3ff1a65fbd39a973394fc955"><div class="ttname"><a href="struct_c_h_n.html#a2566c3ec3ff1a65fbd39a973394fc955">CHN::tempo</a></div><div class="ttdeci">unsigned char tempo</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00036">gplay.h:36</a></div></div>
<div class="ttc" id="agplay_8c_html_afcbd3dc88c5ae56c9e398f2e1fa994af"><div class="ttname"><a href="gplay_8c.html#afcbd3dc88c5ae56c9e398f2e1fa994af">psnum</a></div><div class="ttdeci">int psnum</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8c_source.html#l00045">gplay.c:45</a></div></div>
<div class="ttc" id="agcommon_8h_html_af5ed35bdb5a2e963525594908f997a1b"><div class="ttname"><a href="gcommon_8h.html#af5ed35bdb5a2e963525594908f997a1b">CMD_SETPULSEPTR</a></div><div class="ttdeci">#define CMD_SETPULSEPTR</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00013">gcommon.h:13</a></div></div>
<div class="ttc" id="agcommon_8h_html_a4be20081510e32df709d61a7b1a36815"><div class="ttname"><a href="gcommon_8h.html#a4be20081510e32df709d61a7b1a36815">CMD_SETSR</a></div><div class="ttdeci">#define CMD_SETSR</div><div class="ttdef"><b>Definition:</b> <a href="gcommon_8h_source.html#l00010">gcommon.h:10</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a2f2cf77e1d5c0f82bbd30ec6fdd4426b"><div class="ttname"><a href="struct_c_h_n.html#a2f2cf77e1d5c0f82bbd30ec6fdd4426b">CHN::newnote</a></div><div class="ttdeci">unsigned char newnote</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00017">gplay.h:17</a></div></div>
<div class="ttc" id="astruct_c_h_n_html_a7829aa3bca261fbff8d6cbc3d4db9ef1"><div class="ttname"><a href="struct_c_h_n.html#a7829aa3bca261fbff8d6cbc3d4db9ef1">CHN::gate</a></div><div class="ttdeci">unsigned char gate</div><div class="ttdef"><b>Definition:</b> <a href="gplay_8h_source.html#l00023">gplay.h:23</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1438cc8c1a18e5b5e27392fc9c1a8795.html">musictools</a></li><li class="navelem"><a class="el" href="dir_17e68d802e3e325e8707ae00f20adaca.html">GoatTracker_2.75</a></li><li class="navelem"><a class="el" href="dir_20f75f6c12e12f9fba9c33b39b534248.html">goattrk2</a></li><li class="navelem"><a class="el" href="dir_84b122b346a7317a1a20c0062e2c14ca.html">src</a></li><li class="navelem"><a class="el" href="gplay_8c.html">gplay.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
