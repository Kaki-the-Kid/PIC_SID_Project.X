<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIC SID Project: EnvelopeGenerator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIC SID Project
   &#160;<span id="projectnumber">prototype</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classre_s_i_dfp_1_1_envelope_generator.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">EnvelopeGenerator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a40bbfc2eb01d7fa75a4c72bcaa030f22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a40bbfc2eb01d7fa75a4c72bcaa030f22">setChipModel</a> (ChipModel chipModel)</td></tr>
<tr class="separator:a40bbfc2eb01d7fa75a4c72bcaa030f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c4a467078baf29eb254476f50fa310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a91c4a467078baf29eb254476f50fa310">clock</a> ()</td></tr>
<tr class="separator:a91c4a467078baf29eb254476f50fa310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c58eee58f2f72eace1edc14396386e1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a7c58eee58f2f72eace1edc14396386e1">output</a> () const</td></tr>
<tr class="separator:a7c58eee58f2f72eace1edc14396386e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb2d34cf0b528cb80faddc797ca5338"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#abfb2d34cf0b528cb80faddc797ca5338">EnvelopeGenerator</a> ()</td></tr>
<tr class="separator:abfb2d34cf0b528cb80faddc797ca5338"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8099faa3a9460646b5291b1b2798e413"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a8099faa3a9460646b5291b1b2798e413">writeCONTROL_REG</a> (unsigned char control)</td></tr>
<tr class="separator:a8099faa3a9460646b5291b1b2798e413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d6f189393bac06e2dc14b059ada2a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a50d6f189393bac06e2dc14b059ada2a8">writeATTACK_DECAY</a> (unsigned char attack_decay)</td></tr>
<tr class="separator:a50d6f189393bac06e2dc14b059ada2a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b1d4cadd7e134c0c93dcd776fee6a75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a2b1d4cadd7e134c0c93dcd776fee6a75">writeSUSTAIN_RELEASE</a> (unsigned char sustain_release)</td></tr>
<tr class="separator:a2b1d4cadd7e134c0c93dcd776fee6a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3db1400b3bf4063fda6f7c73f30dbb"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a8e3db1400b3bf4063fda6f7c73f30dbb">readENV</a> () const</td></tr>
<tr class="separator:a8e3db1400b3bf4063fda6f7c73f30dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A 15 bit <a href="https://en.wikipedia.org/wiki/Linear_feedback_shift_register">LFSR</a> is used to implement the envelope rates, in effect dividing the clock to the envelope counter by the currently selected rate period.</p>
<p>In addition, another 5 bit counter is used to implement the exponential envelope decay, in effect further dividing the clock to the envelope counter. The period of this counter is set to 1, 2, 4, 8, 16, 30 at the envelope counter values 255, 93, 54, 26, 14, 6, respectively. </p>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8h_source.html#l00043">43</a> of file <a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abfb2d34cf0b528cb80faddc797ca5338"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfb2d34cf0b528cb80faddc797ca5338">&#9670;&nbsp;</a></span>EnvelopeGenerator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html">EnvelopeGenerator</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8h_source.html#l00152">152</a> of file <a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a91c4a467078baf29eb254476f50fa310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c4a467078baf29eb254476f50fa310">&#9670;&nbsp;</a></span>clock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> clock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> clocking. </p>

</div>
</div>
<a id="a7c58eee58f2f72eace1edc14396386e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c58eee58f2f72eace1edc14396386e1">&#9670;&nbsp;</a></span>output()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float output </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the Envelope Generator output. DAC imperfections are emulated by using envelope_counter as an index into a DAC lookup table. <a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html#a8e3db1400b3bf4063fda6f7c73f30dbb">readENV()</a> uses envelope_counter directly. </p>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8h_source.html#l00147">147</a> of file <a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a>.</p>

</div>
</div>
<a id="a8e3db1400b3bf4063fda6f7c73f30dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3db1400b3bf4063fda6f7c73f30dbb">&#9670;&nbsp;</a></span>readENV()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char readENV </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the envelope current value.</p>
<dl class="section return"><dt>Returns</dt><dd>envelope counter </dd></dl>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8h_source.html#l00207">207</a> of file <a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a>.</p>

</div>
</div>
<a id="ad20897c5c8bd47f5d4005989bead0e55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad20897c5c8bd47f5d4005989bead0e55">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> reset. </p>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8cpp_source.html#l00077">77</a> of file <a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a>.</p>

</div>
</div>
<a id="a40bbfc2eb01d7fa75a4c72bcaa030f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40bbfc2eb01d7fa75a4c72bcaa030f22">&#9670;&nbsp;</a></span>setChipModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> setChipModel </td>
          <td>(</td>
          <td class="paramtype">ChipModel&#160;</td>
          <td class="paramname"><em>chipModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set chip model. This determines the type of the analog DAC emulation: 8580 is perfectly linear while 6581 is nonlinear.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chipModel</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8cpp_source.html#l00066">66</a> of file <a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a>.</p>

</div>
</div>
<a id="a50d6f189393bac06e2dc14b059ada2a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d6f189393bac06e2dc14b059ada2a8">&#9670;&nbsp;</a></span>writeATTACK_DECAY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> writeATTACK_DECAY </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>attack_decay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write Attack/Decay register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attack_decay</td><td>attack/decay value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8cpp_source.html#l00141">141</a> of file <a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a>.</p>

</div>
</div>
<a id="a8099faa3a9460646b5291b1b2798e413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8099faa3a9460646b5291b1b2798e413">&#9670;&nbsp;</a></span>writeCONTROL_REG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> writeCONTROL_REG </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>control</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write control register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">control</td><td>control register </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8cpp_source.html#l00101">101</a> of file <a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a>.</p>

</div>
</div>
<a id="a2b1d4cadd7e134c0c93dcd776fee6a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b1d4cadd7e134c0c93dcd776fee6a75">&#9670;&nbsp;</a></span>writeSUSTAIN_RELEASE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> writeSUSTAIN_RELEASE </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>sustain_release</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write Sustain/Release register.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sustain_release</td><td>sustain/release value </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_envelope_generator_8cpp_source.html#l00156">156</a> of file <a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/<a class="el" href="_envelope_generator_8h_source.html">EnvelopeGenerator.h</a></li>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/<a class="el" href="_envelope_generator_8cpp_source.html">EnvelopeGenerator.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacere_s_i_dfp.html">reSIDfp</a></li><li class="navelem"><a class="el" href="classre_s_i_dfp_1_1_envelope_generator.html">EnvelopeGenerator</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
