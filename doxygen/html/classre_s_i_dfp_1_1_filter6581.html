<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PIC SID Project: Filter6581 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIC SID Project
   &#160;<span id="projectnumber">prototype</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classre_s_i_dfp_1_1_filter6581.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Filter6581 Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_filter6581_8h_source.html">Filter6581.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Filter6581:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classre_s_i_dfp_1_1_filter6581.png" usemap="#Filter6581_map" alt=""/>
  <map id="Filter6581_map" name="Filter6581_map">
<area href="classre_s_i_dfp_1_1_filter.html" alt="Filter" shape="rect" coords="0,0,69,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7c043641437a621d7408041d6cbba180"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#a7c043641437a621d7408041d6cbba180">Filter6581</a> ()</td></tr>
<tr class="separator:a7c043641437a621d7408041d6cbba180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915c8a346383d6bee38a113136cf9dee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#a915c8a346383d6bee38a113136cf9dee">~Filter6581</a> ()</td></tr>
<tr class="separator:a915c8a346383d6bee38a113136cf9dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc901d803a0de915720f4970be0a444"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#abdc901d803a0de915720f4970be0a444">clock</a> (int voice1, int voice2, int voice3) <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:abdc901d803a0de915720f4970be0a444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a2db825f1c673ed8d9610974aa7e9f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#a43a2db825f1c673ed8d9610974aa7e9f">input</a> (int <a class="el" href="_o_p_l3_vsti_2opl3emu4v__src_2_c_o_p_y_i_n_g_8_l_e_s_s_e_r_8txt.html#a42fe24c260d2d1f6d1e904ebf692781d">sample</a>) <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:a43a2db825f1c673ed8d9610974aa7e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfd11a823f3951ddc8290cac23c521f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#afdfd11a823f3951ddc8290cac23c521f">setFilterCurve</a> (double curvePosition)</td></tr>
<tr class="separator:afdfd11a823f3951ddc8290cac23c521f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classre_s_i_dfp_1_1_filter"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classre_s_i_dfp_1_1_filter')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a></td></tr>
<tr class="memitem:ad724ba04cbde6118ceddbd6635e96eaa inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ad724ba04cbde6118ceddbd6635e96eaa">Filter</a> ()</td></tr>
<tr class="separator:ad724ba04cbde6118ceddbd6635e96eaa inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87635451d7f77a7c50bae1262f9c3bf9 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a87635451d7f77a7c50bae1262f9c3bf9">~Filter</a> ()</td></tr>
<tr class="separator:a87635451d7f77a7c50bae1262f9c3bf9 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f9fbcb563ca46c5d0e1cbdd9c1b4a10 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a4f9fbcb563ca46c5d0e1cbdd9c1b4a10">enable</a> (<a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> enable)</td></tr>
<tr class="separator:a4f9fbcb563ca46c5d0e1cbdd9c1b4a10 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20897c5c8bd47f5d4005989bead0e55 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ad20897c5c8bd47f5d4005989bead0e55">reset</a> ()</td></tr>
<tr class="separator:ad20897c5c8bd47f5d4005989bead0e55 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea54528273f446bf7abf31569f8b3580 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#aea54528273f446bf7abf31569f8b3580">writeFC_LO</a> (unsigned char fc_lo)</td></tr>
<tr class="separator:aea54528273f446bf7abf31569f8b3580 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e32df6402a766821c9b2fe69b447643 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a9e32df6402a766821c9b2fe69b447643">writeFC_HI</a> (unsigned char fc_hi)</td></tr>
<tr class="separator:a9e32df6402a766821c9b2fe69b447643 inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17af3eced87138a568e9418b6be219e inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ac17af3eced87138a568e9418b6be219e">writeRES_FILT</a> (unsigned char res_filt)</td></tr>
<tr class="separator:ac17af3eced87138a568e9418b6be219e inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03f679ae9637452f832167d68427b4cd inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a03f679ae9637452f832167d68427b4cd">writeMODE_VOL</a> (unsigned char mode_vol)</td></tr>
<tr class="separator:a03f679ae9637452f832167d68427b4cd inherit pub_methods_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a55a979f3b97aceceeb6e4dd0c6d4217d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#a55a979f3b97aceceeb6e4dd0c6d4217d">updatedCenterFrequency</a> () <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:a55a979f3b97aceceeb6e4dd0c6d4217d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be9018e389da8de20397c00b2c6ee31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#a0be9018e389da8de20397c00b2c6ee31">updateResonance</a> (unsigned char <a class="el" href="structres.html">res</a>) <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:a0be9018e389da8de20397c00b2c6ee31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb842ba755e769672d8a9814dbf26b4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html#adb842ba755e769672d8a9814dbf26b4c">updatedMixing</a> () <a class="el" href="sidcxx11_8h.html#a421c2a84099be332814e021bcf72c6cf">override</a></td></tr>
<tr class="separator:adb842ba755e769672d8a9814dbf26b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classre_s_i_dfp_1_1_filter"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classre_s_i_dfp_1_1_filter')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a></td></tr>
<tr class="memitem:a9166316048fc2977b34af7a531eecb6f inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="readme__resid_8txt.html#a1cbedcc33990b77eae61c0e6ee8eaa7d">short</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a9166316048fc2977b34af7a531eecb6f">currentGain</a></td></tr>
<tr class="memdesc:a9166316048fc2977b34af7a531eecb6f inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current volume amplifier setting.  <a href="classre_s_i_dfp_1_1_filter.html#a9166316048fc2977b34af7a531eecb6f">More...</a><br /></td></tr>
<tr class="separator:a9166316048fc2977b34af7a531eecb6f inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1476b61facc2da77535b01eaf3c605ca inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="readme__resid_8txt.html#a1cbedcc33990b77eae61c0e6ee8eaa7d">short</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a1476b61facc2da77535b01eaf3c605ca">currentMixer</a></td></tr>
<tr class="memdesc:a1476b61facc2da77535b01eaf3c605ca inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current filter/voice mixer setting.  <a href="classre_s_i_dfp_1_1_filter.html#a1476b61facc2da77535b01eaf3c605ca">More...</a><br /></td></tr>
<tr class="separator:a1476b61facc2da77535b01eaf3c605ca inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a5970d017d21f2885dc914de564963b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="readme__resid_8txt.html#a1cbedcc33990b77eae61c0e6ee8eaa7d">short</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a1a5970d017d21f2885dc914de564963b">currentSummer</a></td></tr>
<tr class="memdesc:a1a5970d017d21f2885dc914de564963b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> input summer setting.  <a href="classre_s_i_dfp_1_1_filter.html#a1a5970d017d21f2885dc914de564963b">More...</a><br /></td></tr>
<tr class="separator:a1a5970d017d21f2885dc914de564963b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87229fae805bb18098f633465c90569 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="readme__resid_8txt.html#a1cbedcc33990b77eae61c0e6ee8eaa7d">short</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ab87229fae805bb18098f633465c90569">currentResonance</a></td></tr>
<tr class="memdesc:ab87229fae805bb18098f633465c90569 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> resonance value.  <a href="classre_s_i_dfp_1_1_filter.html#ab87229fae805bb18098f633465c90569">More...</a><br /></td></tr>
<tr class="separator:ab87229fae805bb18098f633465c90569 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73886a7d45df7cfb5ce56ba953be6a44 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a73886a7d45df7cfb5ce56ba953be6a44">Vhp</a></td></tr>
<tr class="memdesc:a73886a7d45df7cfb5ce56ba953be6a44 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> highpass state.  <a href="classre_s_i_dfp_1_1_filter.html#a73886a7d45df7cfb5ce56ba953be6a44">More...</a><br /></td></tr>
<tr class="separator:a73886a7d45df7cfb5ce56ba953be6a44 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd02bd4a0c5d8f65b7024a0f38035194 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#acd02bd4a0c5d8f65b7024a0f38035194">Vbp</a></td></tr>
<tr class="memdesc:acd02bd4a0c5d8f65b7024a0f38035194 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> bandpass state.  <a href="classre_s_i_dfp_1_1_filter.html#acd02bd4a0c5d8f65b7024a0f38035194">More...</a><br /></td></tr>
<tr class="separator:acd02bd4a0c5d8f65b7024a0f38035194 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98b8a40739abee33e95a694d1d8977b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ae98b8a40739abee33e95a694d1d8977b">Vlp</a></td></tr>
<tr class="memdesc:ae98b8a40739abee33e95a694d1d8977b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> lowpass state.  <a href="classre_s_i_dfp_1_1_filter.html#ae98b8a40739abee33e95a694d1d8977b">More...</a><br /></td></tr>
<tr class="separator:ae98b8a40739abee33e95a694d1d8977b inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf38aeaf5203459bde91122cf5a86cc0 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#aaf38aeaf5203459bde91122cf5a86cc0">ve</a></td></tr>
<tr class="memdesc:aaf38aeaf5203459bde91122cf5a86cc0 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> external input.  <a href="classre_s_i_dfp_1_1_filter.html#aaf38aeaf5203459bde91122cf5a86cc0">More...</a><br /></td></tr>
<tr class="separator:aaf38aeaf5203459bde91122cf5a86cc0 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62a8cff08e50ce41ea7ec7a93e52b24 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ab62a8cff08e50ce41ea7ec7a93e52b24">fc</a></td></tr>
<tr class="memdesc:ab62a8cff08e50ce41ea7ec7a93e52b24 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classre_s_i_dfp_1_1_filter.html">Filter</a> cutoff frequency.  <a href="classre_s_i_dfp_1_1_filter.html#ab62a8cff08e50ce41ea7ec7a93e52b24">More...</a><br /></td></tr>
<tr class="separator:ab62a8cff08e50ce41ea7ec7a93e52b24 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27ef128754670a1c61aa07560fd82a7 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ae27ef128754670a1c61aa07560fd82a7">filt1</a></td></tr>
<tr class="memdesc:ae27ef128754670a1c61aa07560fd82a7 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routing to filter or outside filter.  <a href="classre_s_i_dfp_1_1_filter.html#ae27ef128754670a1c61aa07560fd82a7">More...</a><br /></td></tr>
<tr class="separator:ae27ef128754670a1c61aa07560fd82a7 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa734da42b53aaf26b45af94970964e9d inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#aa734da42b53aaf26b45af94970964e9d">filt2</a></td></tr>
<tr class="separator:aa734da42b53aaf26b45af94970964e9d inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140b1f707c0714d35d8334d44177b8be inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a140b1f707c0714d35d8334d44177b8be">filt3</a></td></tr>
<tr class="separator:a140b1f707c0714d35d8334d44177b8be inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768838faf14ae1e9eee4d534c5f300d3 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a768838faf14ae1e9eee4d534c5f300d3">filtE</a></td></tr>
<tr class="separator:a768838faf14ae1e9eee4d534c5f300d3 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78ab86f150e9cdf232234c0a5be3d3e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#ad78ab86f150e9cdf232234c0a5be3d3e">voice3off</a></td></tr>
<tr class="memdesc:ad78ab86f150e9cdf232234c0a5be3d3e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch voice 3 off.  <a href="classre_s_i_dfp_1_1_filter.html#ad78ab86f150e9cdf232234c0a5be3d3e">More...</a><br /></td></tr>
<tr class="separator:ad78ab86f150e9cdf232234c0a5be3d3e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34e81c9c3ff2ffe53eaab4d93e73c97e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a34e81c9c3ff2ffe53eaab4d93e73c97e">hp</a></td></tr>
<tr class="memdesc:a34e81c9c3ff2ffe53eaab4d93e73c97e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Highpass, bandpass, and lowpass filter modes.  <a href="classre_s_i_dfp_1_1_filter.html#a34e81c9c3ff2ffe53eaab4d93e73c97e">More...</a><br /></td></tr>
<tr class="separator:a34e81c9c3ff2ffe53eaab4d93e73c97e inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3aaabf67cb1fc7e65431b20eb0d159 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a2f3aaabf67cb1fc7e65431b20eb0d159">bp</a></td></tr>
<tr class="separator:a2f3aaabf67cb1fc7e65431b20eb0d159 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5be69146e5d176ede70b7a1e96877a inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdbool_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#aec5be69146e5d176ede70b7a1e96877a">lp</a></td></tr>
<tr class="separator:aec5be69146e5d176ede70b7a1e96877a inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a844782d16e5775e4c611c8e4db1eb2f5 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classre_s_i_dfp_1_1_filter.html#a844782d16e5775e4c611c8e4db1eb2f5">vol</a></td></tr>
<tr class="memdesc:a844782d16e5775e4c611c8e4db1eb2f5 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current volume.  <a href="classre_s_i_dfp_1_1_filter.html#a844782d16e5775e4c611c8e4db1eb2f5">More...</a><br /></td></tr>
<tr class="separator:a844782d16e5775e4c611c8e4db1eb2f5 inherit pro_attribs_classre_s_i_dfp_1_1_filter"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> filter is modeled with a two-integrator-loop biquadratic filter, which has been confirmed by Bob Yannes to be the actual circuit used in the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> chip.</p>
<p>Measurements show that excellent emulation of the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> filter is achieved, except when high resonance is combined with high sustain levels. In this case the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> op-amps are performing less than ideally and are causing some peculiar behavior of the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> filter. This however seems to have more effect on the overall amplitude than on the color of the sound.</p>
<p>The theory for the filter circuit can be found in "Microelectric Circuits" by Adel S. Sedra and Kenneth C. Smith. The circuit is modeled based on the explanation found there except that an additional inverter is used in the feedback from the bandpass output, allowing the summer op-amp to operate in single-ended mode. This yields filter outputs with levels independent of Q, which corresponds with the results obtained from a real <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a>.</p>
<p>We have been able to model the summer and the two integrators of the circuit to form components of an IIR filter. Vhp is the output of the summer, Vbp is the output of the first integrator, and Vlp is the output of the second integrator in the filter circuit.</p>
<p>According to Bob Yannes, the active stages of the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> filter are not really op-amps. Rather, simple NMOS inverters are used. By biasing an inverter into its region of quasi-linear operation using a feedback resistor from input to output, a MOS inverter can be made to act like an op-amp for small signals centered around the switching threshold.</p>
<p>In 2008, Michael Huth facilitated closer investigation of the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> 6581 filter circuit by publishing high quality microscope photographs of the die. Tommi Lempinen has done an impressive work on re-vectorizing and annotating the die photographs, substantially simplifying further analysis of the filter circuit.</p>
<p>The filter schematics below are reverse engineered from these re-vectorized and annotated die photographs. While the filter first depicted in <a class="el" href="namespacere_s_i_d.html">reSID</a> 0.9 is a correct model of the basic filter, the schematics are now completed with the audio mixer and output stage, including details on intended relative resistor values. Also included are schematics for the NMOS FET voltage controlled resistors (VCRs) used to control cutoff frequency, the DAC which controls the VCRs, the NMOS op-amps, and the output buffer.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
SID filter / mixer / output</h2>
<div class="fragment"><div class="line">              +---------------------------------------------------+</div>
<div class="line">              |                                                   |</div>
<div class="line">              |                        +--1R1-- \--+ D7           |</div>
<div class="line">              |             +---R1--+  |           |              |</div>
<div class="line">              |             |       |  o--2R1-- \--o <a class="code" href="mg_8c.html#a79a18a7f5ccf7a7ca31f302bd62527a6">D6</a>           |</div>
<div class="line">              |   +---------o--&lt;<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>]--o--o           |     $17      |</div>
<div class="line">              |   |                    o--4R1-- \--o <a class="code" href="mg_8c.html#a261f6a76bb0de96f179a510281591b6b">D5</a>  1=<a class="code" href="fcntl_8h.html#ac843f2e35e60c3bbf1da47d84306f29b">open</a>   | (3.5R1)</div>
<div class="line">              |   |                    |           |              |</div>
<div class="line">              |   |                    +--8R1-- \--o <a class="code" href="mel1_8txt.html#a1da50c1b528c8e833c40ff76abf09c8e">D4</a>           | (7.0R1)</div>
<div class="line">              |   |                                |              |</div>
<div class="line">$17           |   |                    (CAP2B)     |  (CAP1B)     |</div>
<div class="line">0=<a class="code" href="cubase64__1analyze_pitch_8m.html#a65af7d0d56d4e8b13fc075d1b6311fd5">to</a> mixer    |   +--R8--+  +---R8--+      +---C---o      +---C---o</div>
<div class="line">1=<a class="code" href="cubase64__1analyze_pitch_8m.html#a65af7d0d56d4e8b13fc075d1b6311fd5">to</a> <a class="code" href="cubase64__1analyze_pitch_8m.html#a489391ff961690ba872e1e7ae4c333f6">filter</a>   |          |  |       |      |       |      |       |</div>
<div class="line">               ------R8--o--o--[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt;--o--Rw--o--[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt;--o--Rw--o--[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt;--o</div>
<div class="line">    <a class="code" href="classre_s_i_dfp_1_1_filter.html#aaf38aeaf5203459bde91122cf5a86cc0">ve</a> (EXT IN)          |          |              |              |</div>
<div class="line"><a class="code" href="mg_8c.html#afea037e4c6e9187610b538bd6a34b8ff">D3</a>  \ ---------------R8--o          |              | (CAP2A)      | (CAP1A)</div>
<div class="line">    |   v3               |          | vhp          | vbp          | vlp</div>
<div class="line"><a class="code" href="mg_8c.html#a7537ecd0f0af6ccc5b85d5df80f4aee7">D2</a>  |   \ -----------R8--o    +-----+              |              |</div>
<div class="line">    |   |   v2           |    |                    |              |</div>
<div class="line">D1  |   |   \ -------R8--o    |   +----------------+              |</div>
<div class="line">    |   |   |   v1       |    |   |                               |</div>
<div class="line">D0  |   |   |   \ ---R8--+    |   |    ---------------------------+</div>
<div class="line">    |   |   |   |             |   |   |</div>
<div class="line">    R6  R6  R6  R6            R6  R6  R6</div>
<div class="line">    |   |   |   | $18         |   |   |  $18</div>
<div class="line">    |    \  |   | D7: 1=<a class="code" href="fcntl_8h.html#ac843f2e35e60c3bbf1da47d84306f29b">open</a>   \   \   \ D6 - <a class="code" href="mel1_8txt.html#a1da50c1b528c8e833c40ff76abf09c8e">D4</a>: 0=<a class="code" href="fcntl_8h.html#ac843f2e35e60c3bbf1da47d84306f29b">open</a></div>
<div class="line">    |   |   |   |             |   |   |</div>
<div class="line">    +---o---o---o-------------o---o---+                         12<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a></div>
<div class="line">                |</div>
<div class="line">                |               <a class="code" href="mg_8c.html#afea037e4c6e9187610b538bd6a34b8ff">D3</a> +--/ --1R2--+                 |</div>
<div class="line">                |   +---R8--+      |           |  +---R2--+      |</div>
<div class="line">                |   |       |   <a class="code" href="mg_8c.html#a7537ecd0f0af6ccc5b85d5df80f4aee7">D2</a> o--/ --2R2--o  |       |  ||--+</div>
<div class="line">                +---o--[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt;--o------o           o--o--[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt;--o--||</div>
<div class="line">                                D1 o--/ --4R2--o (4.25R2)    ||--+</div>
<div class="line">                       $18         |           |                 |</div>
<div class="line">                       0=<a class="code" href="fcntl_8h.html#ac843f2e35e60c3bbf1da47d84306f29b">open</a>   D0 +--/ --8R2--+ (8.75R2)        |</div>
<div class="line"> </div>
<div class="line">                                                                 vo (AUDIO</div>
<div class="line">                                                                     OUT)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">v1  - voice 1</div>
<div class="line">v2  - voice 2</div>
<div class="line">v3  - voice 3</div>
<div class="line"><a class="code" href="classre_s_i_dfp_1_1_filter.html#aaf38aeaf5203459bde91122cf5a86cc0">ve</a>  - ext <a class="code" href="_t_o_d_o_8txt.html#a8d0326833e240a136c17efeb827f548b">in</a></div>
<div class="line">vhp - highpass <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
<div class="line">vbp - bandpass <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
<div class="line">vlp - lowpass <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
<div class="line">vo  - <a class="code" href="cubase64__3simple_playback_8m.html#ae7198e2df6ed905cb7395d0eff5d5d20">audio</a> <a class="code" href="ins2snd2_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div>
<div class="line">[<a class="code" href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a>&gt; - <a class="code" href="cubase64__2correlate_waveforms_8m.html#ababe23c72c2a94115bf2e913ed7fae7c">single</a> ended inverting <a class="code" href="structop.html">op</a>-<a class="code" href="cubase64__2correlate_waveforms_8m.html#a4750d9206e978b3a9483047ad2fac186">amp</a> (<span class="keyword">self</span>-biased NMOS inverter)</div>
<div class="line">Rn  - <span class="stringliteral">&quot;resistors&quot;</span>, implemented <a class="code" href="64_m_a_p10_8_t_x_t.html#ad9ef197d9d70f7e46ddaab1ca945361e">with</a> custom NMOS FETs</div>
<div class="line">Rw  - cutoff <a class="code" href="cubase64__1analyze_pitch_8m.html#ab8d23fbbf5ca00e9e455f2585690077d">frequency</a> resistor (VCR)</div>
<div class="line">C   - capacitor</div>
</div><!-- fragment --><p>Notes: </p><pre class="fragment">R2  ~  2.0*R1
R6  ~  6.0*R1
R8  ~  8.0*R1
R24 ~ 24.0*R1
</pre><p>The Rn "resistors" in the circuit are implemented with custom NMOS FETs, probably because of space constraints on the <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> die. The silicon substrate is laid out in a narrow strip or "snake", with a strip length proportional to the intended resistance. The polysilicon gate electrode covers the entire silicon substrate and is fixed at 12V in order for the NMOS FET to operate in triode mode (a.k.a. linear mode or ohmic mode).</p>
<p>Even in "linear mode", an NMOS FET is only an approximation of a resistor, as the apparant resistance increases with increasing drain-to-source voltage. If the drain-to-source voltage should approach the gate voltage of 12V, the NMOS FET will enter saturation mode (a.k.a. active mode), and the NMOS FET will not operate anywhere like a resistor.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
NMOS FET voltage controlled resistor (VCR)</h2>
<div class="fragment"><div class="line">               Vw</div>
<div class="line"> </div>
<div class="line">               |</div>
<div class="line">               |</div>
<div class="line">               R1</div>
<div class="line">               |</div>
<div class="line">        +--R1--o</div>
<div class="line">        |    __|__</div>
<div class="line">        |    -----</div>
<div class="line">        |    |   |</div>
<div class="line">vi -----o----+   +--o----- vo</div>
<div class="line">        |           |</div>
<div class="line">        +----R24----+</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">vi  - <a class="code" href="classre_s_i_dfp_1_1_filter6581.html#a43a2db825f1c673ed8d9610974aa7e9f">input</a></div>
<div class="line">vo  - <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
<div class="line">Rn  - <span class="stringliteral">&quot;resistors&quot;</span>, implemented <a class="code" href="64_m_a_p10_8_t_x_t.html#ad9ef197d9d70f7e46ddaab1ca945361e">with</a> custom NMOS FETs</div>
<div class="line">Vw  - voltage from 11-<a class="code" href="cubase64__1analyze_pitch_8m.html#abc96a7397125bd0c724070f4f29be519">bit</a> DAC (<a class="code" href="cubase64__1analyze_pitch_8m.html#ab8d23fbbf5ca00e9e455f2585690077d">frequency</a> cutoff control)</div>
</div><!-- fragment --><p>Notes:</p>
<p>An approximate value for R24 can be found by using the formula for the filter cutoff frequency: </p><pre class="fragment">FCmin = 1/(2*pi*Rmax*C)
</pre><p>Assuming that a the setting for minimum cutoff frequency in combination with a low level input signal ensures that only negligible current will flow through the transistor in the schematics above, values for FCmin and C can be substituted in this formula to find Rmax. Using C = 470pF and FCmin = 220Hz (measured value), we get: </p><pre class="fragment">FCmin = 1/(2*pi*Rmax*C)
Rmax = 1/(2*pi*FCmin*C) = 1/(2*pi*220*470e-12) ~ 1.5MOhm
</pre><p>From this it follows that: R24 = Rmax ~ 1.5MOhm R1 ~ R24/24 ~ 64kOhm R2 ~ 2.0*R1 ~ 128kOhm R6 ~ 6.0*R1 ~ 384kOhm R8 ~ 8.0*R1 ~ 512kOhm</p>
<p>Note that these are only approximate values for one particular <a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> chip, due to process variations the values can be substantially different in other chips.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Filter frequency cutoff DAC</h2>
<div class="fragment"><div class="line">   12<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a>  10   9   8   7   6   5   4   3   2   1   0   VGND</div>
<div class="line">     |   |   |   |   |   |   |   |   |   |   |   |     |   Missing</div>
<div class="line">    2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>  2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>    2<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>   termination</div>
<div class="line">     |   |   |   |   |   |   |   |   |   |   |   |     |</div>
<div class="line">Vw --o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-<a class="code" href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a>-o-   -+</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><a class="code" href="64_m_a_p10_8_t_x_t.html#a795f961a89a05e1bd10cc9b1bbd7bc27">Bit</a> <a class="code" href="cubase64__1analyze_pitch_8m.html#a58ab1fd68e97078232808206b850161b">on</a>:  12<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a></div>
<div class="line"><a class="code" href="64_m_a_p10_8_t_x_t.html#a795f961a89a05e1bd10cc9b1bbd7bc27">Bit</a> off:  5<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a> (VGND)</div>
</div><!-- fragment --><p>As is the case with all MOS 6581 DACs, the termination to (virtual) ground at bit 0 is missing.</p>
<p>Furthermore, the control of the two VCRs imposes a load on the DAC output which varies with the input signals to the VCRs. This can be seen from the VCR figure above.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
"Op-amp" (self-biased NMOS inverter)</h2>
<div class="fragment"><div class="line">                       12<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a></div>
<div class="line"> </div>
<div class="line">                        |</div>
<div class="line">            +-----------o</div>
<div class="line">            |           |</div>
<div class="line">            |    +------o</div>
<div class="line">            |    |      |</div>
<div class="line">            |    |  ||--+</div>
<div class="line">            |    +--||</div>
<div class="line">            |       ||--+</div>
<div class="line">        ||--+           |</div>
<div class="line">vi -----||              o---o----- vo</div>
<div class="line">        ||--+           |   |</div>
<div class="line">            |       ||--+   |</div>
<div class="line">            |-------||      |</div>
<div class="line">            |       ||--+   |</div>
<div class="line">        ||--+           |   |</div>
<div class="line">     +--||              |   |</div>
<div class="line">     |  ||--+           |   |</div>
<div class="line">     |      |           |   |</div>
<div class="line">     |      +-----------o   |</div>
<div class="line">     |                  |   |</div>
<div class="line">     |                      |</div>
<div class="line">     |                 GND  |</div>
<div class="line">     |                      |</div>
<div class="line">     +----------------------+</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">vi  - <a class="code" href="classre_s_i_dfp_1_1_filter6581.html#a43a2db825f1c673ed8d9610974aa7e9f">input</a></div>
<div class="line">vo  - <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
</div><!-- fragment --><p>Notes:</p>
<p>The schematics above are laid out to show that the "op-amp" logically consists of two building blocks; a saturated load NMOS inverter (on the right hand side of the schematics) with a buffer / bias input stage consisting of a variable saturated load NMOS inverter (on the left hand side of the schematics).</p>
<p>Provided a reasonably high input impedance and a reasonably low output impedance, the "op-amp" can be modeled as a voltage transfer function mapping input voltage to output voltage.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Output buffer (NMOS voltage follower)</h2>
<div class="fragment"><div class="line">           12<a class="code" href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a></div>
<div class="line"> </div>
<div class="line">            |</div>
<div class="line">            |</div>
<div class="line">        ||--</div>
<div class="line">vi -----||</div>
<div class="line">        ||--</div>
<div class="line">            |</div>
<div class="line">            |------ vo</div>
<div class="line">            |     (AUDIO</div>
<div class="line">           Rext    OUT)</div>
<div class="line">            |</div>
<div class="line">            |</div>
<div class="line"> </div>
<div class="line">           GND</div>
<div class="line"> </div>
<div class="line">vi   - <a class="code" href="classre_s_i_dfp_1_1_filter6581.html#a43a2db825f1c673ed8d9610974aa7e9f">input</a></div>
<div class="line">vo   - <a class="code" href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div>
<div class="line">Rext - external resistor, 1kOhm</div>
</div><!-- fragment --><p>Notes:</p>
<p>The external resistor Rext is needed to complete the NMOS voltage follower, this resistor has a recommended value of 1kOhm.</p>
<p>Die photographs show that actually, two NMOS transistors are used in the voltage follower. However the two transistors are coupled in parallel (all terminals are pairwise common), which implies that we can model the two transistors as one. </p>

<p class="definition">Definition at line <a class="el" href="_filter6581_8h_source.html#l00322">322</a> of file <a class="el" href="_filter6581_8h_source.html">Filter6581.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7c043641437a621d7408041d6cbba180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c043641437a621d7408041d6cbba180">&#9670;&nbsp;</a></span>Filter6581()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html">Filter6581</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_filter6581_8h_source.html#l00356">356</a> of file <a class="el" href="_filter6581_8h_source.html">Filter6581.h</a>.</p>

</div>
</div>
<a id="a915c8a346383d6bee38a113136cf9dee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a915c8a346383d6bee38a113136cf9dee">&#9670;&nbsp;</a></span>~Filter6581()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">~<a class="el" href="classre_s_i_dfp_1_1_filter6581.html">Filter6581</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_filter6581_8cpp_source.html#l00032">32</a> of file <a class="el" href="_filter6581_8cpp_source.html">Filter6581.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abdc901d803a0de915720f4970be0a444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc901d803a0de915720f4970be0a444">&#9670;&nbsp;</a></span>clock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int clock </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>v3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="classre_s_i_dfp_1_1_s_i_d.html">SID</a> clocking - 1 cycle</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v1</td><td>voice 1 in </td></tr>
    <tr><td class="paramname">v2</td><td>voice 2 in </td></tr>
    <tr><td class="paramname">v3</td><td>voice 3 in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>filtered output </dd></dl>

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_filter.html#aad710dc7c07f72169290ad41991a566a">Filter</a>.</p>

</div>
</div>
<a id="a43a2db825f1c673ed8d9610974aa7e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43a2db825f1c673ed8d9610974aa7e9f">&#9670;&nbsp;</a></span>input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> input </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_filter.html#a56b50f8595f333dd6e9bf0aab4a1fc9c">Filter</a>.</p>

<p class="definition">Definition at line <a class="el" href="_filter6581_8h_source.html#l00373">373</a> of file <a class="el" href="_filter6581_8h_source.html">Filter6581.h</a>.</p>

</div>
</div>
<a id="afdfd11a823f3951ddc8290cac23c521f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdfd11a823f3951ddc8290cac23c521f">&#9670;&nbsp;</a></span>setFilterCurve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> setFilterCurve </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>curvePosition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set filter curve type based on single parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">curvePosition</td><td>0 .. 1, where 0 sets center frequency high ("light") and 1 sets it low ("dark"), default is 0.5 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_filter6581_8cpp_source.html#l00068">68</a> of file <a class="el" href="_filter6581_8cpp_source.html">Filter6581.cpp</a>.</p>

</div>
</div>
<a id="a55a979f3b97aceceeb6e4dd0c6d4217d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55a979f3b97aceceeb6e4dd0c6d4217d">&#9670;&nbsp;</a></span>updatedCenterFrequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> updatedCenterFrequency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set filter cutoff frequency. </p>

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_filter.html#a811b9f726625f740ce4c8705294a9e80">Filter</a>.</p>

<p class="definition">Definition at line <a class="el" href="_filter6581_8cpp_source.html#l00037">37</a> of file <a class="el" href="_filter6581_8cpp_source.html">Filter6581.cpp</a>.</p>

</div>
</div>
<a id="adb842ba755e769672d8a9814dbf26b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb842ba755e769672d8a9814dbf26b4c">&#9670;&nbsp;</a></span>updatedMixing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> updatedMixing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Mixing configuration modified (offsets change) </p>

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_filter.html#a9503be66260dc93cd1f127ed3af2f80b">Filter</a>.</p>

<p class="definition">Definition at line <a class="el" href="_filter6581_8cpp_source.html#l00044">44</a> of file <a class="el" href="_filter6581_8cpp_source.html">Filter6581.cpp</a>.</p>

</div>
</div>
<a id="a0be9018e389da8de20397c00b2c6ee31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0be9018e389da8de20397c00b2c6ee31">&#9670;&nbsp;</a></span>updateResonance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bassmidi_8h.html#a1775701abced24e4580d5d7a69fca07a">void</a> updateResonance </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set filter resonance.</p>
<p>In the MOS 6581, 1/Q is controlled linearly by res. </p>

<p>Implements <a class="el" href="classre_s_i_dfp_1_1_filter.html#a92d44cfbbf9fe047a8fa1250cad4c8ce">Filter</a>.</p>

<p class="definition">Definition at line <a class="el" href="_filter6581_8h_source.html#l00351">351</a> of file <a class="el" href="_filter6581_8h_source.html">Filter6581.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/<a class="el" href="_filter6581_8h_source.html">Filter6581.h</a></li>
<li>musictools/libsidplayfp-2.0.1/src/builders/residfp-builder/residfp/<a class="el" href="_filter6581_8cpp_source.html">Filter6581.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="amg_8c_html_a261f6a76bb0de96f179a510281591b6b"><div class="ttname"><a href="mg_8c.html#a261f6a76bb0de96f179a510281591b6b">D5</a></div><div class="ttdeci">#define D5</div><div class="ttdef"><b>Definition:</b> <a href="mg_8c_source.html#l00056">mg.c:56</a></div></div>
<div class="ttc" id="amg_8c_html_a79a18a7f5ccf7a7ca31f302bd62527a6"><div class="ttname"><a href="mg_8c.html#a79a18a7f5ccf7a7ca31f302bd62527a6">D6</a></div><div class="ttdeci">#define D6</div><div class="ttdef"><b>Definition:</b> <a href="mg_8c_source.html#l00068">mg.c:68</a></div></div>
<div class="ttc" id="ains2snd2_8c_html_a1277960b5f2b37137fe9b0b5a1ea0beb"><div class="ttname"><a href="ins2snd2_8c.html#a1277960b5f2b37137fe9b0b5a1ea0beb">out</a></div><div class="ttdeci">FILE * out</div><div class="ttdef"><b>Definition:</b> <a href="ins2snd2_8c_source.html#l00019">ins2snd2.c:19</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_abc96a7397125bd0c724070f4f29be519"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#abc96a7397125bd0c724070f4f29be519">bit</a></div><div class="ttdeci">clks LDA ROR $AF Compressed pitch bit</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l01173">cubase64_1analyzePitch.m:1173</a></div></div>
<div class="ttc" id="acubase64__2correlate_waveforms_8m_html_ababe23c72c2a94115bf2e913ed7fae7c"><div class="ttname"><a href="cubase64__2correlate_waveforms_8m.html#ababe23c72c2a94115bf2e913ed7fae7c">single</a></div><div class="ttdeci">we will get out of memory error on this one if you have less than RAM in your single</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__2correlate_waveforms_8m_source.html#l00370">cubase64_2correlateWaveforms.m:370</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_a489391ff961690ba872e1e7ae4c333f6"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#a489391ff961690ba872e1e7ae4c333f6">filter</a></div><div class="ttdeci">Need to do calculations since memory requirements may get out of hand if doing all at once Must avoid doing global calculations like we ll only do a low pass filter which passes all frequencies below and stops all frequencies above Ripple This is an easier filter that doesn t require as many bins as high order as the bandpass version and the original audio is a cappella so it should be pretty quiet below anyway This is the filter</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l00105">cubase64_1analyzePitch.m:105</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_aaf40b0925eebe2bf9e0f7ccee5480956"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#aaf40b0925eebe2bf9e0f7ccee5480956">V</a></div><div class="ttdeci">if frequency&lt; 120% frequency=frequency *2;% end% if frequency&lt; 120% frequency=frequency *2;% end% Formant0LPCdirect(sliceNo+1)=frequency;end save 'Formant0FreqencyTD2.mat' Formant0TimeDomain2 figure(5);clf;plot(Formant0LPC, 'b');%Works pretty ok, seems to always say 10Hz higher than the rest hold on plot(Formant0TimeDomain, 'r');%Works pretty ok plot(Formant0Cepstrum, 'g');% plot(Formant0LPCdirect, 'm');%Not ok at all. Disable this one plot(Formant0Cepstrum2, 'y');plot(Formant0TimeDomain2, 'm');end%The time domain pitch detection works best here, let 's use that one:Formant0=Formant0TimeDomain2;% Now, extract some kind of very simple volume envelope for this.%Should probably be sime kind of &quot;When too much noise, be silent&quot;%When nothing at all, be silent.%Else, be full volume.SIDVoiceVolume=zeros(1, nofSlices);rms=zeros(1, nofSlices);rmsHigh=zeros(1, nofSlices);rmsLow=zeros(1, nofSlices);%Design a highpass filter with stopband defined from 0 to 3500Hz% and passband defined from 4000 Hz to 20 kHz.% Specify a passband ripple of 5% and a stopband attenuation of 40 dB:fsamp=Fs;fcuts=[3500 4000];mags=[0 1];devs=[0.05 0.01];[n, Wn, beta, ftype]=kaiserord(fcuts, mags, devs, fsamp);hh=fir1(n, Wn, ftype, kaiser(n+1, beta), 'noscale');figure(2) freqz(hh)%Design a lowpass filter with passband defined from 0 to 3500Hz% and stopband defined from 4000 Hz to 20 kHz.% Specify a passband ripple of 5% and a stopband attenuation of 40 dB:mags=[1 0];devs=[0.05 0.01];[n, Wn, beta, ftype]=kaiserord(fcuts, mags, devs, fsamp);hhlow=fir1(n, Wn, ftype, kaiser(n+1, beta), 'noscale');figure(3) freqz(hhlow) overlapSample=50;%nofSamples to include &quot;outside&quot; the sliceif loadRmsFile==1 load 'rms.mat' % Contains rms, rmsHigh, rmsLowelse for sliceNo=1:nofSlices-2, sliceNo %#ok&lt; NOPTS &gt; sliceMiddleIndex=round((sliceNo+overlap/2) *sliceLength+1) %#ok&lt; NOPTS &gt; sliceStartIndex=ceil(sliceMiddleIndex -(sliceLength/2)) %#ok&lt; NOPTS &gt; sliceEndIndex=floor(sliceMiddleIndex+(sliceLength/2)) %#ok&lt; NOPTS &gt; sliceStartIndexOverlap=ceil(sliceMiddleIndex -(fftLength/2)) %#ok&lt; NOPTS &gt; sliceEndIndexOverlap=floor(sliceMiddleIndex+(fftLength/2) - 1) %#ok&lt; NOPTS &gt; sliceLen2=sliceEndIndex-sliceStartIndex+overlapSample *2;W=hanning(sliceLen2);% Time to estimate the noise in here:sliceData=detrend(originalAudio(sliceStartIndex-overlapSample:sliceEndIndex+overlapSample-1)) .*W;% Making the slice zero mean:% sliceData=detrend(originalAudio(sliceStartIndexOverlap:sliceEndIndexOverlap)).*fftWindow;%This example uses norm(x)/sqrt(n) to obtain the root-mean-square(RMS) value of an n-element vector x. %x=[0 1 2 3] %sqrt(0+1+4+9) % Euclidean length %ans=% 3.7417 %norm(x) %ans=% 3.7417 %n=length(x) % Number of elements %rms=3.7417/2 % rms=norm(x)/sqrt(n) len=size(sliceData);len=len(1);rms(sliceNo)=norm(sliceData)/len;% Now, extract &quot;how much noise&quot; there is above 4kHz. % If too much, be silent. % Make a high pass filtered version of x xhigh=filter(hh, 1, [sliceData' zeros(1, overlap *3)]);rmsHigh(sliceNo)=norm(xhigh)/len;xlow=filter(hhlow, 1, [sliceData' zeros(1, overlap *3)]);rmsLow(sliceNo)=norm(xlow)/len;end % Save all calculated values to file:save 'rms.mat' rms *endfigure(8);clf;plot(rms);hold on;plot(rmsHigh, 'y');plot(rmsLow, 'r');legend( 'RMS', 'RMS for high frequencies &gt; 4kHz', 'RMS for low frequencies&lt; 4kHz');% From the plot above, we shall be silent when rmsHigh &gt; rmsLow.maxRmsLow=max(rmsLow);threshold=maxRmsLow *0.03;plot([0 nofSlices], [threshold threshold], 'g');for sliceNo=1:nofSlices-1, if((rmsLow(sliceNo) &gt; rmsHigh(sliceNo)) &amp;&amp;(rmsLow(sliceNo) &gt; threshold))% SIDVoiceVolume(sliceNo)=rmsLow(sliceNo+1);SIDVoiceVolume(sliceNo)=1;else SIDVoiceVolume(sliceNo)=0;endend% Make frequencies &quot;nicer&quot;. First of all,% remove all lonely spurious slices. A slice with volume &gt; that has only silent neighbours V(n-1)=0and V(n+1)=0will be set to silent. for sliceNo</div></div>
<div class="ttc" id="amel1_8txt_html_a1da50c1b528c8e833c40ff76abf09c8e"><div class="ttname"><a href="mel1_8txt.html#a1da50c1b528c8e833c40ff76abf09c8e">D4</a></div><div class="ttdeci">B3 C4 Gis3 F4 D4</div><div class="ttdef"><b>Definition:</b> <a href="mel1_8txt_source.html#l00284">mel1.txt:284</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_ab8d23fbbf5ca00e9e455f2585690077d"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#ab8d23fbbf5ca00e9e455f2585690077d">frequency</a></div><div class="ttdeci">frequency</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l00184">cubase64_1analyzePitch.m:184</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_a58ab1fd68e97078232808206b850161b"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#a58ab1fd68e97078232808206b850161b">on</a></div><div class="ttdeci">hold on</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l00624">cubase64_1analyzePitch.m:624</a></div></div>
<div class="ttc" id="a_p_s_i_d_8doc_html_a930f861689f227013a59e377911121a4"><div class="ttname"><a href="_p_s_i_d_8doc.html#a930f861689f227013a59e377911121a4">A</a></div><div class="ttdeci">Read Y in A</div><div class="ttdef"><b>Definition:</b> <a href="_p_s_i_d_8doc_source.html#l00185">PSID.doc:185</a></div></div>
<div class="ttc" id="acubase64__3simple_playback_8m_html_ae7198e2df6ed905cb7395d0eff5d5d20"><div class="ttname"><a href="cubase64__3simple_playback_8m.html#ae7198e2df6ed905cb7395d0eff5d5d20">audio</a></div><div class="ttdeci">audio</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__3simple_playback_8m_source.html#l00075">cubase64_3simplePlayback.m:75</a></div></div>
<div class="ttc" id="acubase64__2correlate_waveforms_8m_html_a4750d9206e978b3a9483047ad2fac186"><div class="ttname"><a href="cubase64__2correlate_waveforms_8m.html#a4750d9206e978b3a9483047ad2fac186">amp</a></div><div class="ttdeci">a factor in the time domain amp</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__2correlate_waveforms_8m_source.html#l00288">cubase64_2correlateWaveforms.m:288</a></div></div>
<div class="ttc" id="a64_m_a_p10_8_t_x_t_html_a795f961a89a05e1bd10cc9b1bbd7bc27"><div class="ttname"><a href="64_m_a_p10_8_t_x_t.html#a795f961a89a05e1bd10cc9b1bbd7bc27">Bit</a></div><div class="ttdeci">V1 Jun COMMODORE INPUT OUTPUT ASSIGNMENTS HEX DECIMAL BITS DESCRIPTION MOS Data Direction Bit</div><div class="ttdef"><b>Definition:</b> <a href="64_m_a_p10_8_t_x_t_source.html#l00070">64MAP10.TXT:70</a></div></div>
<div class="ttc" id="amg_8c_html_a7537ecd0f0af6ccc5b85d5df80f4aee7"><div class="ttname"><a href="mg_8c.html#a7537ecd0f0af6ccc5b85d5df80f4aee7">D2</a></div><div class="ttdeci">#define D2</div><div class="ttdef"><b>Definition:</b> <a href="mg_8c_source.html#l00020">mg.c:20</a></div></div>
<div class="ttc" id="a_t_o_d_o_8txt_html_a8d0326833e240a136c17efeb827f548b"><div class="ttname"><a href="_t_o_d_o_8txt.html#a8d0326833e240a136c17efeb827f548b">in</a></div><div class="ttdeci">MIDI devices channels machine emulators real export SID SWM drive numbers types playmodes tune editor settings random ptn seq reloc addresses test in</div><div class="ttdef"><b>Definition:</b> <a href="_t_o_d_o_8txt_source.html#l00012">TODO.txt:12</a></div></div>
<div class="ttc" id="acubase64__1analyze_pitch_8m_html_a65af7d0d56d4e8b13fc075d1b6311fd5"><div class="ttname"><a href="cubase64__1analyze_pitch_8m.html#a65af7d0d56d4e8b13fc075d1b6311fd5">to</a></div><div class="ttdeci">resample to</div><div class="ttdef"><b>Definition:</b> <a href="cubase64__1analyze_pitch_8m_source.html#l00196">cubase64_1analyzePitch.m:196</a></div></div>
<div class="ttc" id="aclassre_s_i_dfp_1_1_filter_html_aaf38aeaf5203459bde91122cf5a86cc0"><div class="ttname"><a href="classre_s_i_dfp_1_1_filter.html#aaf38aeaf5203459bde91122cf5a86cc0">reSIDfp::Filter::ve</a></div><div class="ttdeci">int ve</div><div class="ttdoc">Filter external input.</div><div class="ttdef"><b>Definition:</b> <a href="libsidplayfp-2_80_81_2src_2builders_2residfp-builder_2residfp_2filter_8h_source.html#l00057">Filter.h:57</a></div></div>
<div class="ttc" id="a_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt_html_a9b2de556bb4fc6bf14b983629b40d392"><div class="ttname"><a href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt.html#a9b2de556bb4fc6bf14b983629b40d392">output</a></div><div class="ttdeci">GoatTracker v2 Editor by Lasse Valerio Raine M Tero Henrik Paulini and Groepaz Microtonal support by Birgit Jauernig Distributed under GNU General Public License(see the file COPYING for details) Covert BitOps homepage you might want to try even a or tweak the hardware acceleration level of the reSID interpolation will take remarkably more CPU time and could cause the sound and or editing to get choppy Finevibrato mode is on by default You can change this behaviour with V option Note that finevibrato mode only affects the conversion of old style vibrato parameters to speedtable format Pulse optimization O determines if pulsetable execution will be skipped when getting new notes or a new pattern By default it is on Be warned that turning it off will increase the rastertime requirements of packed relocated songs greatly ! Realtime command optimization R determines if vibrato &amp;instrument vibrato will be skipped on tick of each pattern row By default it is as this is how tracker programs have operated traditionally Turning it off makes the commands sound same regardless of tempo but will increase rastertime use The hard restart ADSR parameter will especially affect how rapid passages of notes will sound like is probably too hard to be except perhaps with gateoff timer and adds also a little bit of release to the gateoff phase for even softer sound makes the note start very pronounced Hard restart parameter with attack at where waveform is written before ADSR This can give more reliable note especially for very fast releases but may change the characteristics of the note s decay &amp;release The dotted pattern display return to emulated output</div><div class="ttdef"><b>Definition:</b> <a href="_goat_tracker__2_875_2goattrk2_2_r_e_a_d_m_e_8txt_source.html#l00276">readme.txt:276</a></div></div>
<div class="ttc" id="astructop_html"><div class="ttname"><a href="structop.html">op</a></div><div class="ttdef"><b>Definition:</b> <a href="parse_8h_source.html#l00047">parse.h:47</a></div></div>
<div class="ttc" id="a64_m_a_p10_8_t_x_t_html_ad9ef197d9d70f7e46ddaab1ca945361e"><div class="ttname"><a href="64_m_a_p10_8_t_x_t.html#ad9ef197d9d70f7e46ddaab1ca945361e">with</a></div><div class="ttdeci">TEXT String terminated with</div><div class="ttdef"><b>Definition:</b> <a href="64_m_a_p10_8_t_x_t_source.html#l01386">64MAP10.TXT:1386</a></div></div>
<div class="ttc" id="amg_8c_html_afea037e4c6e9187610b538bd6a34b8ff"><div class="ttname"><a href="mg_8c.html#afea037e4c6e9187610b538bd6a34b8ff">D3</a></div><div class="ttdeci">#define D3</div><div class="ttdef"><b>Definition:</b> <a href="mg_8c_source.html#l00032">mg.c:32</a></div></div>
<div class="ttc" id="amusic__notes_8h_html_a5c71a5e59a53413cd6c270266d63b031"><div class="ttname"><a href="music__notes_8h.html#a5c71a5e59a53413cd6c270266d63b031">R</a></div><div class="ttdeci">#define R</div><div class="ttdef"><b>Definition:</b> <a href="music__notes_8h_source.html#l00134">music_notes.h:134</a></div></div>
<div class="ttc" id="afcntl_8h_html_ac843f2e35e60c3bbf1da47d84306f29b"><div class="ttname"><a href="fcntl_8h.html#ac843f2e35e60c3bbf1da47d84306f29b">open</a></div><div class="ttdeci">int open(const char *name, int flags,...)</div></div>
<div class="ttc" id="aclassre_s_i_dfp_1_1_filter6581_html_a43a2db825f1c673ed8d9610974aa7e9f"><div class="ttname"><a href="classre_s_i_dfp_1_1_filter6581.html#a43a2db825f1c673ed8d9610974aa7e9f">reSIDfp::Filter6581::input</a></div><div class="ttdeci">void input(int sample) override</div><div class="ttdef"><b>Definition:</b> <a href="_filter6581_8h_source.html#l00373">Filter6581.h:373</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacere_s_i_dfp.html">reSIDfp</a></li><li class="navelem"><a class="el" href="classre_s_i_dfp_1_1_filter6581.html">Filter6581</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
